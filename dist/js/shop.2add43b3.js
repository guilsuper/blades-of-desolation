"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[523],{5400:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var a=s(3396),r=s(7139);const l={class:"container mt-5 pt-5"},o=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-6"},[(0,a._)("label",{for:"buy"},"Buy Items")])],-1),c={class:"row mh-100"},n={class:"col-6"};function u(t,e,s,u,i,m){const p=(0,a.up)("ShopNavBar"),d=(0,a.up)("Item");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(p),(0,a._)("div",l,[o,(0,a._)("div",c,[(0,a._)("div",n,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.storeItems,(t=>((0,a.wg)(),(0,a.j4)(d,{class:(0,r.C_)(m.getRarityFullName(t.rarity)),key:t.id,item:t,display:"shop",onClick:e=>m.buy(t)},null,8,["class","item","onClick"])))),128))])])])])],64)}var i=s(4870),m=s(8914),p=s(5216),d=s(4485),h=s(6897),y=s(118),f=s(7497),v=s(1067),g=s(3406),_={name:"GeneralShop",components:{ShopNavBar:f.Z,Item:g.Z},setup(){(0,a.bv)((async()=>{let t=1+y._.getPartyLuck(),e=Math.ceil(25*Math.random());if(t>e){let t=Math.floor(Math.random()*m.Z.state.quests.length),e=m.Z.state.quests[t];await v.Z.confirm(e.objective,e.target)&&h.g.acceptQuest(e)}}));const t=(0,i.qj)({playersGold:(0,a.Fl)((()=>m.Z.state.player.gold)),storeItems:(0,a.Fl)((()=>m.Z.state.items.filter((()=>Math.floor(10*Math.random())>8)).sort(((t,e)=>t.price-e.price)))),quest:null});return t},methods:{buy(t){this.$store.state.player.gold>=t.price?(this.$store.commit("reducePlayerGold",t.price),p.x.buyItem(t),v.Z.toast("Purchased "+t.name,"success")):v.Z.toast("Insufficient resources","warning")},getRarityFullName:d.$}},Z=s(89);const b=(0,Z.Z)(_,[["render",u]]);var w=b}}]);
//# sourceMappingURL=shop.2add43b3.js.map