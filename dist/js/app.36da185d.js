(function(){"use strict";var e={671:function(e,t,a){var s=a(9242),r=a(3396);const i={class:"d-md-flex bg-dark"};function n(e,t,a,s,n,c){const l=(0,r.up)("PlayerStatsSideWindow"),o=(0,r.up)("CharacterDetailsModal"),m=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(l),(0,r.Wm)(o,{character:e.character,ref:"characterDetailsModal"},null,8,["character"]),(0,r.Wm)(m)])}var c=a(4870),l=a(4275),o=a(1992),m=a(7387),p=a.n(m),d=a(8914),g=a(7139);const h={class:"bg-black text-light side-window"},f={class:"pb-2 d-flex justify-content-center"},u={key:0},b=(0,r.Uk)("Map"),y={key:0},v=(0,r.Uk)("Create"),w=(0,r._)("div",{class:"pb-2"},[(0,r._)("button",{class:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#collapsePouch","aria-expanded":"false","aria-controls":"collapsePouch"}," Pouch "),(0,r._)("button",{class:"btn btn-secondary",type:"button","data-toggle":"collapse","data-target":"#collapseParty","aria-expanded":"false","aria-controls":"collapseParty"}," Party ")],-1),k={class:"collapse",id:"collapsePouch"},Z={class:"d-flex d-md-block justify-content-around h-100"},q=(0,r._)("p",{class:"click","data-toggle":"modal","data-target":"#itemPouchModal",title:"items"}," Items ",-1),_={key:0,class:"click","data-toggle":"modal","data-target":"#questModal",title:"quest"},T={class:"collapse",id:"collapseParty"},C=["onClick"];function S(e,t,a,s,i,n){const c=(0,r.up)("ItemPouchModal"),l=(0,r.up)("QuestModal"),o=(0,r.up)("router-link"),m=(0,r.up)("BattleOptions");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(c),(0,r.Wm)(l),(0,r._)("div",h,[(0,r._)("nav",f,[e.player.characters.length>0?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(o,{to:"/map"},{default:(0,r.w5)((()=>[b])),_:1}),e.player.characters.length<=5?((0,r.wg)(),(0,r.iD)("div",y,[(0,r.Wm)(o,{to:"/"},{default:(0,r.w5)((()=>[v])),_:1})])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),w,(0,r._)("div",k,[(0,r._)("div",Z,[(0,r._)("span",null,"Gold: "+(0,g.zw)(e.player.gold),1),q,this.$store.state.player.quest?.target?((0,r.wg)(),(0,r.iD)("p",_," Quest ")):(0,r.kq)("",!0)])]),(0,r._)("div",T,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.player.characters,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"h-100",key:e.id},[(0,r._)("p",{class:"click","data-toggle":"modal","data-target":"#characterDetailsModal",title:"stats",onClick:t=>n.selectCharacter(e)},(0,g.zw)(e.name),9,C)])))),128))]),"battleField"!==this.$route.name?((0,r.wg)(),(0,r.iD)("button",{key:0,class:(0,g.C_)(["btn btn-success float-bottom",e.player.characters.length>0?"":"d-none"]),onClick:t[0]||(t[0]=(...e)=>n.saveGame&&n.saveGame(...e))},"Save",2)):(0,r.kq)("",!0),(0,r._)("button",{class:(0,g.C_)(["btn btn-success float-bottom",e.player.characters.length<1?"":"d-none"]),onClick:t[1]||(t[1]=(...e)=>n.loadGame&&n.loadGame(...e))},"Load Game",2),"battleField"!==this.$route.name?((0,r.wg)(),(0,r.iD)("button",{key:1,class:(0,g.C_)(["btn btn-primary float-bottom",e.player.characters.length>0?"":"d-none"]),onClick:t[2]||(t[2]=(...e)=>n.rest&&n.rest(...e))},"Rest (unsafe)",2)):(0,r.kq)("",!0),"battleField"==e.$route.name?((0,r.wg)(),(0,r.j4)(m,{key:2})):(0,r.kq)("",!0)])],64)}var x=a(1067);const M={class:"modal fade text-dark",id:"itemPouchModal",tabindex:"-1",role:"dialog","aria-labelledby":"itemPouchModalLabel","aria-hidden":"true"},R={class:"modal-dialog",role:"document"},D={class:"modal-content text-light font-weight-bold"},H=(0,r._)("div",{class:"modal-header"},[(0,r._)("div",{class:"modal-title container"},[(0,r._)("h5",null,"Items")])],-1),E={class:"modal-body container"},I={class:"row px-3"},F={key:0},A={key:1};function B(e,t,a,s,i,n){const c=(0,r.up)("Item");return(0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("div",R,[(0,r._)("div",D,[H,(0,r._)("div",E,[(0,r._)("div",I,[e.items.length>0?((0,r.wg)(),(0,r.iD)("ul",F,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.items,(e=>((0,r.wg)(),(0,r.j4)(c,{key:e.id,item:e},null,8,["item"])))),128))])):((0,r.wg)(),(0,r.iD)("p",A,"No items in pouch"))])])])])])}var z=a(3406),j={name:"ItemPouchModal",components:{Item:z.Z},setup(){const e=(0,c.qj)({items:(0,r.Fl)((()=>d.Z.state.player.items))});return e},methods:{}},L=a(89);const P=(0,L.Z)(j,[["render",B]]);var O=P;const U={class:"modal fade text-dark",id:"questModal",tabindex:"-1",role:"dialog","aria-labelledby":"questModalLabel","aria-hidden":"true"},W={class:"modal-dialog",role:"document"},Y={class:"modal-content"},$=(0,r._)("div",{class:"modal-header"},[(0,r._)("div",{class:"modal-title container"},[(0,r._)("h5",null,"Quest")])],-1),N={class:"modal-body container"},G={class:"row justify-content-center"},K={class:"col-12 px-3"},Q={class:"col-12"},J={class:"border-top p-3"};function V(e,t,a,s,i,n){return(0,r.wg)(),(0,r.iD)("div",U,[(0,r._)("div",W,[(0,r._)("div",Y,[$,(0,r._)("div",N,[(0,r._)("div",G,[(0,r._)("div",K,(0,g.zw)(e.quest.objective)+" "+(0,g.zw)(e.quest.goal>0?e.quest.goal-(e.kills[e.quest.target]??0):"")+" "+(0,g.zw)(e.quest.target)+(0,g.zw)(e.quest.goal>0?"'s":""),1),(0,r._)("div",Q," Reward: "+(0,g.zw)(e.quest.reward),1),(0,r._)("span",J,(0,g.zw)(Math.round(e.quest.progress/e.quest.goal*100))+"% Complete ",1)])])])])])}var X={name:"QuestModal",setup(){const e=(0,c.qj)({quest:(0,r.Fl)((()=>d.Z.state.player.quest)),kills:(0,r.Fl)((()=>d.Z.state.player.kills))});return e},methods:{}};const ee=(0,L.Z)(X,[["render",V]]);var te=ee,ae=a(1988),se=a(118),re=a(1444);const ie={key:0},ne={class:"header m-3 border-bottom"},ce={class:"title container"},le={class:"body container"},oe={key:0,class:"btn-group"},me=["disabled"],pe=(0,r._)("button",{type:"button",class:"btn btn-danger dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[(0,r._)("span",{class:"sr-only"},"Toggle Dropdown")],-1),de={class:"dropdown-menu"},ge=["onClick"],he={key:1,class:"btn-group"},fe=["onClick","disabled"],ue={class:"row justify-content-center mt-3"},be=["disabled"],ye=["disabled"];function ve(e,t,a,s,i,n){return e.selected?((0,r.wg)(),(0,r.iD)("div",ie,[(0,r._)("div",ne,[(0,r._)("div",ce,(0,g.zw)(e.selected.name)+"("+(0,g.zw)(e.selected.actions)+") ",1)]),(0,r._)("div",le,[e.selected.spells.length>0?((0,r.wg)(),(0,r.iD)("div",oe,[(0,r._)("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>n.castSpell&&n.castSpell(...e)),disabled:e.selected.actions<1||e.selected.magic<1},(0,g.zw)(e.selectedSpell.name)+" lvl-"+(0,g.zw)(e.selectedSpell.level),9,me),pe,(0,r._)("div",de,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.selected.spells,(e=>((0,r.wg)(),(0,r.iD)("button",{class:"dropdown-item",key:e.id,onClick:t=>n.selectSpell(e)},(0,g.zw)(e.name)+" lvl-"+(0,g.zw)(e.level),9,ge)))),128))])])):(0,r.kq)("",!0),e.selected.abilities.length>0?((0,r.wg)(),(0,r.iD)("div",he,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.selected.abilities,(t=>((0,r.wg)(),(0,r.iD)("button",{key:t.name,type:"button",class:"btn btn-danger",onClick:a=>t.useAbility(t,e.selected),disabled:t.uses<=0},(0,g.zw)(t.name)+" ("+(0,g.zw)(t.uses)+")",9,fe)))),128))])):(0,r.kq)("",!0),(0,r._)("div",ue,[(0,r._)("button",{class:"btn btn-warning mx-2",onClick:t[1]||(t[1]=(...e)=>n.waitAction&&n.waitAction(...e)),disabled:e.selected.actions<1},"Wait",8,be),(0,r._)("button",{class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>n.fleeAction&&n.fleeAction(...e)),disabled:e.selected.actions<1},"Flee",8,ye)])])])):(0,r.kq)("",!0)}var we=a(9359),ke=a(5279),Ze={name:"BattleOptions",watch:{selected:function(){this.selected?.spells?.length>0&&this.selectSpell(this.selected.spells[0])}},setup(){const e=(0,c.qj)({selected:(0,r.Fl)((()=>d.Z.state.selected)),selectedSpell:{name:"select spell",level:null},selectedAbility:{name:"select ability",level:null}});return e},methods:{waitAction(){this.selected.actions--},fleeAction(){this.selected.actions>0&&(this.selected.actions=0,se._.attemptToFlee(this.selected))},selectSpell(e){this.selectedSpell=e},selectAbility(e){this.selectedAbility=e},async castSpell(){if(this.selected.magic<this.selectedSpell.level||this.selected.actions<1)return;let e=null;if(this.selectedSpell.areaEffect)return e="enemies",this.selected.magic-=this.selectedSpell.level,this.selected.actions--,we.w.castSpell(this.selectedSpell,e),void se._.autoSelect();p()("[id^=hit]").each((function(){let e=p()(this).prop("id").replace(/[^0-9]+/,"");p()("#charImg"+e).addClass("selectable"),p()("#monster"+e).addClass("selectable click")})),setTimeout((()=>document.addEventListener("click",this.eventListenerSpell,{once:!0,capture:!0})),100)},eventListenerSpell(e){e.stopImmediatePropagation();let t=ke.j.getMonsterById(p()(e.target).prop("id").replace(/[^0-9]+/,""));t||(t=se._.getCharacterById(p()(e.target).prop("id").replace(/[^0-9]+/,""))),p()("[id^=hit]").each((function(){let e=p()(this).prop("id").replace(/[^0-9]+/,"");p()("#charImg"+e).removeClass("selectable"),p()("#monster"+e).removeClass("selectable click")})),t?(this.selected.magic-=this.selectedSpell.level,this.selected.actions--,we.w.castSpell(this.selectedSpell,t),se._.autoSelect()):x.Z.toast("Cant cast spell without proper target.")}}};const qe=(0,L.Z)(Ze,[["render",ve]]);var _e=qe,Te=a(3123),Ce={components:{ItemPouchModal:O,QuestModal:te,BattleOptions:_e},setup(){const e=(0,c.qj)({player:(0,r.Fl)((()=>d.Z.state.player))});return e},methods:{selectCharacter(e){d.Z.state.selected=e},saveGame(){window.localStorage.setItem("player",JSON.stringify(this.$store.state.player)),x.Z.toast("Game Saved!","success")},loadGame(){this.$store.state.player=JSON.parse(window.localStorage.getItem("player")),this.$store.state.player.items.forEach(((e,t)=>{this.$store.state.player.items[t]=new ae.c(e)})),this.$store.state.player.characters.forEach(((e,t)=>{se._.loadCharacter(t,e),e.equipment.forEach(((e,a)=>{this.$store.state.player.characters[t].equipment[a]=new ae.c(e)})),e.spells.forEach(((e,a)=>{this.$store.state.player.characters[t].spells[a]=new re.j(e)}))})),x.Z.toast("Game Loaded!","success")},async rest(){if(!JSON.parse(window.localStorage.getItem("Wild Rest Warning"))){if(!await x.Z.confirm("Wild Rest Warning","Are you sure you want to rest in the unprotected wild? You may be attacked or robbed? Continue?"))return;window.localStorage.setItem("Wild Rest Warning",JSON.stringify("skip"))}let e=Math.ceil(100*Math.random())+2*d.Z.state.location,t=se._.getPartyLuck()+40;if(t>e)return d.Z.state.player.characters.forEach((e=>{e.hp=e.hp+Math.round(.25*e.baseHp)>e.baseHp?e.baseHp:e.hp+Math.round(.25*e.baseHp),e.magic=e.baseMagic,e.abilities.forEach((e=>e.uses=e.baseUses))})),void x.Z.toast("Successfully Rested!","success");if(e>25)Te.Z.push({name:"battleField"});else{let t=Math.round(d.Z.state.player.gold*(e/100));x.Z.toast("Your rest is interupted by thieves, fornately you are unharmed. Unforunately you lost "+t+" Gold"),d.Z.state.player.gold-=t}}}};const Se=(0,L.Z)(Ce,[["render",S]]);var xe=Se;const Me={class:"modal fade text-dark",id:"characterDetailsModal",tabindex:"-1",role:"dialog","aria-labelledby":"characterDetailsModalLabel","aria-hidden":"true"},Re={class:"modal-dialog modal-lg",role:"document"},De={key:0,class:"modal-content text-light"},He={class:"modal-header"},Ee={class:"modal-title container"},Ie={class:"row"},Fe={class:"col-4"},Ae={class:"col-4"},Be={class:"col-4"},ze=(0,r._)("div",{class:"row"},[(0,r._)("sup",{class:"col-4"}),(0,r._)("sup",{class:"col-4"},"Class"),(0,r._)("sup",{class:"col-4"},"Race")],-1),je=(0,r._)("span",{"aria-hidden":"true"},"×",-1),Le=[je],Pe={class:"modal-body container"},Oe={class:"row"},Ue={class:"col-md-6 col-12"},We=(0,r._)("strong",{for:"stats"},"Stats",-1),Ye={class:"mt-3 pl-3 d-grid"},$e={key:0},Ne={key:1,title:"HP is retored by this amount at the end of each turn in battle"},Ge={key:2,title:"Magic is retored by this amount at the end of each turn in battle"},Ke={key:3},Qe={key:4},Je={key:5},Ve={key:6,title:"improves chance for better items, dodged attacks, crit hits and flee"},Xe={key:7},et={key:8},tt={key:9},at={key:10,class:"col-md-6 col-12"},st=(0,r._)("label",{class:"text-left w-100",for:"resistances"},"Resistances: ",-1),rt={key:11,class:"col-md-6 col-12"},it=(0,r._)("label",{class:"text-left w-100",for:"immunities"},"Immunities: ",-1),nt={key:12,class:"col-md-6 col-12"},ct=(0,r._)("label",{class:"text-left w-100",for:"vulnerabilities"},"Vulnerabilities: ",-1),lt={class:"col-md-6 col-12"},ot=(0,r._)("strong",{for:"items"},"Items",-1),mt={key:0,class:"border border-rounded h-100"},pt=["id","onClick","title"],dt={key:1},gt={class:"row mt-4"},ht={key:0,class:"col-md-6 col-12"},ft=(0,r._)("strong",null,"Equipment",-1),ut={class:"border-rounded border py-3"},bt=["title"],yt=["onClick"],vt={key:1,class:"col-6"},wt=(0,r._)("strong",null,"Spells",-1),kt={class:"border-rounded border h-75"},Zt=["title"],qt={key:2,class:"col-6"},_t=(0,r._)("strong",null,"Spells",-1),Tt={class:"border-rounded border h-75"},Ct=["title"],St={class:"mt-5"},xt=(0,r._)("button",{class:"btn btn-outline-danger","data-dismiss":"modal"},"Close",-1);function Mt(e,t,a,s,i,n){return(0,r.wg)(),(0,r.iD)("div",Me,[(0,r._)("div",Re,[a.character?((0,r.wg)(),(0,r.iD)("div",De,[(0,r._)("div",He,[(0,r._)("div",Ee,[(0,r._)("div",Ie,[(0,r._)("h5",Fe,(0,g.zw)(a.character.name),1),(0,r._)("h5",Ae,(0,g.zw)(a.character.classType),1),(0,r._)("h5",Be,(0,g.zw)(a.character.race),1)]),ze,(0,r._)("button",{type:"button",class:"close text-danger","data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>n.deleteCharacter&&n.deleteCharacter(...e)),title:"Delete Character"},Le)])]),(0,r._)("div",Pe,[(0,r._)("div",Oe,[(0,r._)("div",Ue,[We,(0,r._)("div",Ye,[(0,r._)("span",null,"HP: "+(0,g.zw)(a.character.hp)+" / "+(0,g.zw)(a.character.baseHp),1),(0,r._)("span",null,"LVL: "+(0,g.zw)(a.character.level),1),(0,r._)("span",null,"EXP: "+(0,g.zw)(Math.round(a.character.exp))+" / "+(0,g.zw)(e.levelUpChart[a.character.level]),1),(0,r._)("span",null,"Speed: "+(0,g.zw)(a.character.actions)+" / "+(0,g.zw)(a.character.baseActions),1),(0,r._)("span",null,"STR: "+(0,g.zw)(a.character.strength),1),(0,r._)("span",null,"DMG Type: "+(0,g.zw)(a.character.dmgType),1),a.character.baseMagic?((0,r.wg)(),(0,r.iD)("span",$e,"Magic: "+(0,g.zw)(a.character.magic)+" / "+(0,g.zw)(a.character.baseMagic),1)):(0,r.kq)("",!0),a.character.regen?((0,r.wg)(),(0,r.iD)("span",Ne,"Regen: "+(0,g.zw)(a.character.regen),1)):(0,r.kq)("",!0),a.character.magicRegen?((0,r.wg)(),(0,r.iD)("span",Ge,"Magic Regen: "+(0,g.zw)(a.character.magicRegen),1)):(0,r.kq)("",!0),a.character.dodge?((0,r.wg)(),(0,r.iD)("span",Ke,"Dodge: "+(0,g.zw)(a.character.dodge)+"%",1)):(0,r.kq)("",!0),a.character.thorns?((0,r.wg)(),(0,r.iD)("span",Qe,"Thorns: "+(0,g.zw)(a.character.thorns),1)):(0,r.kq)("",!0),a.character.lifeSteal?((0,r.wg)(),(0,r.iD)("span",Je,"Life Steal: "+(0,g.zw)(a.character.lifeSteal)+"%",1)):(0,r.kq)("",!0),a.character.luck?((0,r.wg)(),(0,r.iD)("span",Ve,"Luck: "+(0,g.zw)(a.character.luck)+"%",1)):(0,r.kq)("",!0),a.character.absorb?((0,r.wg)(),(0,r.iD)("span",Xe,"Absorb: "+(0,g.zw)(a.character.absorb),1)):(0,r.kq)("",!0),a.character.physicalResistance?((0,r.wg)(),(0,r.iD)("span",et,"Physical Resistance: "+(0,g.zw)(a.character.physicalResistance)+"%",1)):(0,r.kq)("",!0),a.character.magicResistance?((0,r.wg)(),(0,r.iD)("span",tt,"Magic Resistance: "+(0,g.zw)(a.character.magicResistance)+"%",1)):(0,r.kq)("",!0),a.character.resistances.length>0?((0,r.wg)(),(0,r.iD)("ul",at,[st,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.resistances,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"ml-4",key:e},(0,g.zw)(e),1)))),128))])):(0,r.kq)("",!0),a.character.immunities.length>0?((0,r.wg)(),(0,r.iD)("ul",rt,[it,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.immunities,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"ml-4",key:e},(0,g.zw)(e),1)))),128))])):(0,r.kq)("",!0),a.character.vulnerabilities.length>0?((0,r.wg)(),(0,r.iD)("ul",nt,[ct,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.vulnerabilities,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"ml-4",key:e},(0,g.zw)(e),1)))),128))])):(0,r.kq)("",!0)])]),(0,r._)("div",lt,[ot,e.items.length>0?((0,r.wg)(),(0,r.iD)("ul",mt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.items,(e=>((0,r.wg)(),(0,r.iD)("li",{id:"item"+e.id,class:(0,g.C_)(["click",n.statDiffColor(a.character,e)?"text-success":null==n.statDiffColor(a.character,e)?"":"text-danger"]),key:e.id,onClick:t=>n.equip(a.character,e),title:e.effect+" +"+e.value},(0,g.zw)(e.name)+" "+(0,g.zw)(n.getStatDiff(a.character,e)),11,pt)))),128))])):((0,r.wg)(),(0,r.iD)("p",dt,"No items in pouch"))])]),(0,r._)("div",gt,[a.character.equipment.length>0?((0,r.wg)(),(0,r.iD)("div",ht,[ft,(0,r._)("ul",ut,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.equipment,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id,title:e.effect+" +"+e.value},[(0,r.Uk)((0,g.zw)(e.name)+" ",1),(0,r._)("span",{class:"text-danger click",title:"unequip",onClick:t=>n.unequip(a.character,e)},"-",8,yt)],8,bt)))),128))])])):(0,r.kq)("",!0),a.character.spells.length>0?((0,r.wg)(),(0,r.iD)("div",vt,[wt,(0,r._)("ul",kt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.spells,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.name,title:e.title??e.getTitle()},(0,g.zw)(e.name)+" lvl-"+(0,g.zw)(e.level),9,Zt)))),128))])])):(0,r.kq)("",!0),a.character.abilities.length>0?((0,r.wg)(),(0,r.iD)("div",qt,[_t,(0,r._)("ul",Tt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.character.abilities,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.name,title:e.title??e.getTitle()},(0,g.zw)(e.name)+" lvl-"+(0,g.zw)(e.level),9,Ct)))),128))])])):(0,r.kq)("",!0)]),(0,r._)("div",St,[xt,a.character.statBonus>0?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-outline-success",onClick:t[1]||(t[1]=e=>n.improveStat(a.character))},"Improve Stat")):(0,r.kq)("",!0),(0,r._)("button",{class:"btn btn-outline-primary",onClick:t[2]||(t[2]=(...e)=>n.nextCharacter&&n.nextCharacter(...e))},"Next")])])])):(0,r.kq)("",!0)])])}var Rt=a(5216),Dt={name:"CharacterDetailsModal",props:{character:{require:!0,type:Object}},setup(){const e=(0,c.qj)({levelUpChart:d.Z.state.levelUpChart,items:(0,r.Fl)((()=>d.Z.state.player.items.sort(((e,t)=>e.name.localeCompare(t.name))).filter((function(e,t,a){return!t||e.name!=a[t-1].name}))))});return e},methods:{unequip(e,t){Rt.x.unequipItem(e,t)},equip(e,t){Rt.x.equipItem(e,t)},getStatDiff(e,t){let a="";if(Array.isArray(t.value))for(let s=0;s<t.value.length;s++)a+=this.compareEffectDiff(e.equipment,{effect:t.effect[s],value:t.value[s],type:t.type});else a+=this.compareEffectDiff(e.equipment,t);return a},compareEffectDiff(e,t){let a=e.filter((e=>e.type===t.type))[0];if(!a)return`+${t.value} ${t.effect} `;let s=a.effect,r=!1;if(Array.isArray(s)?(r=s.findIndex((e=>e==t.effect)),s=s.filter((e=>e==t.effect))[0]):s=s==t.effect,!s)return`+${t.value} ${t.effect} `;let i=a.value[r]??a.value,n=a.effect[r]??a.effect;if(i==t.value)return"";if("string"==typeof t.value)return`+${t.value} ${t.effect} `;let c=t.value-i,l=c>0?"+":"";return l+c+" "+n+" "},statDiffColor(e,t){let a=!0;return e.equipment.forEach((e=>{e.type==t.type&&(a=t.price-e.price>0||!(t.price-e.price<0)&&null)})),a},async improveStat(e){if(e.statBonus<=0)return;let t={};for(let s in e)if(e[s]>0){if(s.includes("base")||"level"==s||"exp"==s||"actions"==s||"inBattle"==s||"statBonus"==s)continue;t[s]=s}let a=await x.Z.selectStat(t);a&&(e[a]++,e.statBonus--)},async deleteCharacter(){await x.Z.confirm("Removing Character","Are you sure you want to remove "+this.character.name+" from your party?","warning","Remove")&&se._.deleteCharacter(this.character.id)},nextCharacter(){console.log(this.character);let e=d.Z.state.player.characters.findIndex((e=>e.id==this.character.id)),t=d.Z.state.player.characters[e+1>=d.Z.state.player.characters.length?0:e+1];d.Z.state.selected=t}}};const Ht=(0,L.Z)(Dt,[["render",Mt]]);var Et=Ht,It={components:{PlayerStatsSideWindow:xe,CharacterDetailsModal:Et},setup(){(0,r.bv)((()=>{if(!(d.Z.state.characterImgList.length>0))if(window.location.origin.includes("localhost")){let e="assets/characters/";p().ajax({url:e,async:!1,success:function(e){p()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&d.Z.state.characterImgList.push(t)}))}}),e="assets/locations/",p().ajax({url:e,async:!1,success:function(e){p()(e).find("a").attr("href",(function(e,t){t.match(/\.(jpe?g|png|gif)$/)&&d.Z.state.locationImgList.push(t)}))}})}else{const e=(0,o.cF)(l["default"]);(0,o.aF)((0,o.iH)(e,"characters/")).then((t=>{t.items.forEach((t=>{(0,o.Jt)((0,o.iH)(e,"/"+t._location.path_)).then((e=>{d.Z.state.characterImgList.push(e)}))}))})).catch((e=>{console.log(e)})),(0,o.aF)((0,o.iH)(e,"locations/")).then((t=>{t.items.forEach((t=>{(0,o.Jt)((0,o.iH)(e,"/"+t._location.path_)).then((e=>{d.Z.state.locationImgList.push(e)}))}))})).catch((e=>{console.log(e)}))}}));const e=(0,c.qj)({character:(0,r.Fl)((()=>d.Z.state.selected))});return e},methods:{}};const Ft=(0,L.Z)(It,[["render",n]]);var At=Ft,Bt=a(4677);a(343);const zt={apiKey:"AIzaSyC83i8pGROHwcHAp1Ecivxl7NyCtJxfWX4",authDomain:"game-pics.firebaseapp.com",projectId:"game-pics",storageBucket:"game-pics.appspot.com",messagingSenderId:"105661301499",appId:"1:105661301499:web:5e3588750185de5833e65e",measurementId:"G-QE7VMGPJB9"},jt=(0,l.ZF)(zt);(0,s.ri)(At).use(d.Z).use(Te.Z).use(Bt.ZP).use(jt).mount("#app")},1988:function(e,t,a){a.d(t,{c:function(){return r}});var s=a(6197);class r{constructor(e){this.id=(0,s.O)(),this.name=e.name,this.requirements=e.requirements,this.effect=e.effect,this.value="randomDmgType"==e.value?this.getRandomDmgType():e.value,this.type=e.type,this.price=e.price,this.rarity=e.rarity}getRandomDmgType(){let e=["lightning","melee","magic","acid","necrotic","poison","fire","radiant","psychic"],t=Math.floor(Math.random()*e.length);return this.name+=" ("+e[t]+")",e[t]}}},3565:function(e,t,a){a.d(t,{d:function(){return r}});var s=a(6197);class r{constructor(e){this.id=(0,s.O)(),this.name=e.name??"unknown",this.classType=e.classType??"unknown",this.race=e.race??"unknown",this.img=e.img,this.spells=e.spells??[],this.equipment=e.equipment??[],this.dmgType=e.dmgType??"melee",this.hp=e.hp??5,this.magic=e.magic??0,this.luck=e.luck??0,this.strength=e.strength??1,this.dodge=e.dodge??0,this.thorns=e.thorns??0,this.actions=e.actions??1,this.physicalResistance=e.physicalResistance??0,this.magicResistance=e.magicResistance??0,this.immunities=e.immunities??[],this.vulnerabilities=e.vulnerabilities??[],this.resistances=e.resistances??[],this.lifeSteal=e.lifeSteal??0,this.regen=e.regen??0,this.absorb=e.absorb??"",this.buffs=[],this.debuffs=[],this.level=e.level??0,this.loot=e.loot??{gold:0,items:[]},this.exp=e.exp??50,this.baseHp=this.hp,this.baseStrength=this.strength,this.baseDodge=this.dodge,this.baseThorns=this.thorns,this.baseActions=this.actions,this.baseLifeSteal=this.lifeSteal,this.baseLuck=this.luck,this.baseMagic=this.magic,this.basePhysicalResistance=this.physicalResistance,this.baseMagicResistance=this.magicResistance}}},1444:function(e,t,a){a.d(t,{j:function(){return r}});var s=a(6197);class r{constructor(e){this.id=(0,s.O)(),this.name=e.name,this.level=e.level??1,this.cost=e.cost??1,this.dmgType=e.dmgType??"magic",this.strength=e.strength,this.areaEffect=e.areaEffect??!1,this.effect=e.effect??[],this.value=e.value??[],this.buff=e.buff??!1,this.temp=e.temp??!1,this.title=e.title??null,this.reqs=e.reqs??{}}getTitle(){let e="";return this.strength?e=this.strength+" "+this.dmgType+" dmg":(e=this.buff?"+":"-",e+=this.value+" "+this.effect),e+=this.areaEffect?" (Mass effect)":"",e}}},3123:function(e,t,a){a.d(t,{Z:function(){return it}});var s=a(678),r=a(3396),i=a(7139);const n={class:"container"},c={key:0},l={key:1},o={key:0},m={class:"row justify-content-center h-50 bg-img"},p={key:0};function d(e,t,a,s,d,g){const h=(0,r.up)("LootMonster"),f=(0,r.up)("EnemyMonster"),u=(0,r.up)("CombatCharacter");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",{class:"row justify-content-center align-items-center h-50 bg-battle-img",style:(0,i.j5)("background-image: url("+e.bgImg+")")},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.monsters,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"col-4 col-md-2",key:t.id},[e.monstersWithHp<1?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(h,{monster:t},null,8,["monster"])])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(f,{monster:t},null,8,["monster"])]))])))),128)),e.monstersWithHp<1?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("button",{class:"btn btn-warning",onClick:t[0]||(t[0]=(...e)=>g.adventureOn&&g.adventureOn(...e))},"Adventure On!")])):(0,r.kq)("",!0)],4),(0,r._)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.characters,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"col-4 col-md-2",key:e.id},[e.inBattle?((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(u,{character:e},null,8,["character"])])):(0,r.kq)("",!0)])))),128))])])}const g=["id"],h=["id","src"],f=["src"];function u(e,t,a,s,i,n){const c=(0,r.up)("HpBar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(c,{hp:a.monster.hp,baseHp:a.monster.baseHp,unknown:e.unknown},null,8,["hp","baseHp","unknown"]),(0,r._)("div",null,[(0,r._)("div",{class:"position-absolute hit",id:"hit"+a.monster.id},null,8,g),a.monster.hp>0?((0,r.wg)(),(0,r.iD)("img",{key:0,id:"monster"+a.monster.id,class:"img-fluid monster-img attack-cursor",onClick:t[0]||(t[0]=e=>n.attackMonster(a.monster)),src:a.monster.img},null,8,h)):((0,r.wg)(),(0,r.iD)("img",{key:1,class:"img-fluid monster-img",src:e.deadImg},null,8,f))])],64)}var b=a(4870);const y={class:"bg-danger w-100 hp-bar rounded-pill align-items-center justify-content-center d-flex"},v={class:"text-light pb-1"};function w(e,t,a,s,n,c){return(0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",{class:(0,i.C_)(["hp-bar text-absolute-center rounded-pill",a.selected?"bg-warning":"bg-success"]),style:(0,i.j5)("width: "+(a.hp>0?a.hp/a.baseHp*100:0)+"%")},[(0,r._)("span",v,(0,i.zw)(a.unknown?"????":Math.round(10*a.hp)/10)+"/"+(0,i.zw)(a.unknown?"????":a.baseHp),1)],6)])}var k={props:{hp:{require:!0,type:Number},baseHp:{require:!0,type:Number},selected:{type:Boolean,default:!1},unknown:{type:Boolean,default:!1}}},Z=a(89);const q=(0,Z.Z)(k,[["render",w],["__scopeId","data-v-247c90cf"]]);var _=q,T=a(8914),C=a(6938),S=a(118),x=a(3818),M={components:{HpBar:_},name:"EnemyMonster",props:{monster:{type:Object}},setup(e){(0,r.bv)((()=>{t.monsterPreHp=e.monster.hp,S._.autoSelect()}));const t=(0,b.qj)({deadImg:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fdead.png?alt=media&token=028e4092-cca1-42d5-a38f-99c60d034904",unknown:(0,r.Fl)((()=>!T.Z.state.player.kills[e.monster.name]))});return t},methods:{attackMonster(e){S._.autoSelect(),x.m.shake("monster"+e.id),C.S.handleAttack(this.$store.state.selected,e),S._.autoSelect()}}};const R=(0,Z.Z)(M,[["render",u],["__scopeId","data-v-0dd65aaa"]]);var D=R;const H={key:0},E={class:"d-flex dead",title:"dead"},I=["id","src"],F={key:1},A=["id"],B=["id","src"],z={class:"d-flex"},j={class:"border rounded-circle text-light h-25 w-25",title:"Strength"},L={class:"border rounded-circle text-light h-25 w-25",title:"Actions"},P={key:0,class:"border rounded-circle text-light h-25 w-25",title:"Magic"};function O(e,t,a,s,n,c){const l=(0,r.up)("HpBar");return a.character.hp<.1?((0,r.wg)(),(0,r.iD)("div",H,[(0,r._)("strong",E,(0,i.zw)(a.character.name),1),(0,r._)("img",{id:"charImg"+a.character.id,class:"img-fluid w-75 events-none",src:e.deadImg,onClick:t[0]||(t[0]=e=>c.selectCharacter(a.character))},null,8,I)])):((0,r.wg)(),(0,r.iD)("div",F,[(0,r.Wm)(l,{hp:a.character.hp,baseHp:a.character.baseHp,selected:e.selected?.id==a.character.id},null,8,["hp","baseHp","selected"]),(0,r._)("div",{class:"position-absolute hit selectable",id:"hit"+a.character.id},null,8,A),(0,r._)("strong",{class:(0,i.C_)(["d-flex text-light",a.character.actions<1?"text-danger":""])},(0,i.zw)(a.character.name),3),(0,r._)("div",null,[(0,r._)("img",{id:"charImg"+a.character.id,class:(0,i.C_)([e.selected?.id==a.character.id?"animate__animated animate__slow animate__pulse animate__infinite":"","img-fluid w-75 click"]),src:a.character.img,onClick:t[1]||(t[1]=e=>c.selectCharacter(a.character))},null,10,B)]),(0,r._)("div",z,[(0,r._)("p",j,(0,i.zw)(a.character.strength),1),(0,r._)("p",L,(0,i.zw)(a.character.actions),1),a.character.magic?((0,r.wg)(),(0,r.iD)("p",P,(0,i.zw)(a.character.magic),1)):(0,r.kq)("",!0)])]))}var U={components:{HpBar:_},name:"CombatCharacter",props:{character:{type:Object}},setup(e){const t=(0,b.qj)({selected:(0,r.Fl)((()=>T.Z.state.selected)),hp:(0,r.Fl)((()=>e.character.hp)),deadImg:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fdead.png?alt=media&token=028e4092-cca1-42d5-a38f-99c60d034904"});return t},methods:{selectCharacter(e){console.log(1),e.actions>0&&this.$store.commit("selectCharacter",e)}}};const W=(0,Z.Z)(U,[["render",O]]);var Y=W;const $={class:"blur-box text-light font-weight-bold h-50"},N={class:"border-bottom"},G={class:""},K={key:0};function Q(e,t,a,s,n,c){return(0,r.wg)(),(0,r.iD)("div",$,[(0,r._)("p",N,(0,i.zw)(a.monster.name)+"'s Loot!",1),(0,r._)("p",G,"Gold: "+(0,i.zw)(a.monster.loot.gold),1),a.monster.loot.items.length>0?((0,r.wg)(),(0,r.iD)("ul",K,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.monster.loot.items,(e=>((0,r.wg)(),(0,r.iD)("li",{class:(0,i.C_)(c.getRarityFullName(this.$store.state.items.filter((t=>t.name==e))[0].rarity)),key:e},(0,i.zw)(e),3)))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.monster.equipment,(e=>((0,r.wg)(),(0,r.iD)("li",{class:(0,i.C_)(c.getRarityFullName(this.$store.state.items.filter((t=>t.name==e))[0].rarity)),key:e},(0,i.zw)(e),3)))),128))])):(0,r.kq)("",!0)])}var J=a(4485),V={name:"LootMonster",props:{monster:{type:Object}},setup(){const e=(0,b.qj)({});return e},methods:{getRarityFullName:J.$}};const X=(0,Z.Z)(V,[["render",Q],["__scopeId","data-v-707b1f46"]]);var ee=X,te=a(1988),ae=a(3565);const se={barbarian:{1:"rage"},bard:{2:"song of rest"},cleric:{},fighter:{1:"second wind",2:"action surge"},monk:{4:"quickening heal"},paladin:{},ranger:{},rogue:{1:"sneak attack",2:"cunning action"},warlock:{},wizard:{}};var re=a(3998);function ie(e,t,a){let s={};switch(e){case"rogue":s["classBoost"]=["baseStrength","strength","dodge"],a%3==0&&s["classBoost"].push("luck");break;case"ranger":s["classBoost"]=["baseStrength","strength","baseHp","hp"];break;case"barbarian":s["classBoost"]=["baseStrength","baseStrength","strength","strength"];break;case"bard":s["classBoost"]=["dodge","luck"];break;case"wizard":s["classBoost"]=["baseMagic","baseMagic","magic","magic"],a%2==0&&s["classBoost"].push("magicRegen");break;case"cleric":s["classBoost"]=["baseMagic","magic","hp"],a%2==0&&s["classBoost"].push("magicRegen");break;case"fighter":s["classBoost"]=["baseStrength","strength","physicalResistance"];break;case"monk":s["classBoost"]=["physicalResistance","magicResistance"],a%5==0&&s["classBoost"].push("actions");break;case"paladin":s["classBoost"]=["baseStrength","strength","thorns"],a%2==0&&s["classBoost"].push("magic"),a%3==0&&s["classBoost"].push("magicRegen");break;case"warlock":s["classBoost"]=["baseMagic","magic","lifeSteal"],a%2==0&&s["classBoost"].push("magicRegen");break;default:s["classBoost"]=[[(0,re.w)()],[(0,re.w)()]];break}switch(t){case"dragonborn":s["raceBoost"]=["baseStrength","baseStrength","strength","strength"];break;case"human":s["raceBoost"]=["baseStrength","baseHp","strength","hp"];break;case"elf":s["raceBoost"]=["baseMagic","magic","dodge"];break;case"dwarf":s["raceBoost"]=["baseHp","baseHp","hp","hp"];break;case"halfling":s["raceBoost"]=["luck","luck"];break;default:s["raceBoost"]=[[(0,re.w)()],[(0,re.w)()]];break}return s}var ne=a(1067),ce=a(6197);class le{constructor(e){this.id=(0,ce.O)(),this.name=e.name,this.level=e.level??1,this.dmgType=e.dmgType,this.strength=e.strength,this.areaEffect=e.areaEffect??!1,this.effect=e.effect??[],this.value=e.value??[],this.buff=e.buff??!1,this.debuff=e.debuff??!1,this.title=e.title??null,this.classType=e.classType??"any",this.uses=e.uses??1,this.baseUses=e.baseUses??1}getTitle(){let e="";return this.strength?e=this.strength+" "+this.dmgType+" dmg":(e=this.buff?"+":"-",e+=this.value+" "+this.effect),e+=this.areaEffect?" (Mass effect)":"",e}useAbility(e,t){e.uses<=0||(this.uses--,e.areaEffect?"enemies"==t?T.Z.state.combatMonsters.forEach((t=>{e["areaEffect"]=!1,e.useAbility(e,t)})):T.Z.state.player.characters.forEach((t=>{e["areaEffect"]=!1,e.useAbility(e,t)})):(!e.strength||e.buff||e.debuff||(e["actions"]=1,e["hp"]=1,e["lifeSteal"]=0,e["luck"]=0,C.S.handleAttack(e,t)),e.effect&&e.effect.forEach((function(a,s){Array.isArray(t[a])?t[a].push(e.value[s]):"number"!==typeof e.value[s]?t[a]=e.value[s]:e.buff?t[a]+=e.value[s]:t[a]-=e.value[s]})),e.debuff&&e.effect.forEach((function(a,s){t["debuffs"].push({effect:a,value:e.value[s]})})),e.buff&&e.effect.forEach((function(a,s){t["buffs"].push({effect:a,value:e.value[s]})}))))}}class oe{learnAbility(e,t){if(console.log(e),!this.canLearnAbility(e,t))return!1;if(t.abilities.find((t=>t.name==e)))return void this.levelUpAbility(e,t);let a=T.Z.state.abilities.find((t=>t.name==e));t.abilities.push(new le(a)),ne.Z.toast(t.name+" Learned "+e,"success")}canLearnAbility(e,t){let a=t.abilities.find((t=>t.name==e));return a?a.level<t.level:(a=T.Z.state.abilities.find((t=>t.name==e)),t.classType==a.classType&&a.level<=t.level)}levelUpAbility(e,t){let a=t.abilities.find((t=>t.name==e)),s=T.Z.state.abilities.find((t=>t.name==e));s=s.find((t=>t.name==e)),a.level++,a.strength&&(a.strength+=s.strength),a.value&&(a.value+=s.value),ne.Z.toast(t.name+" Level up "+e,"success")}}const me=new oe;class pe{removeBuff(e,t){Array.isArray(e[t.effect])?e[t.effect]=e[t.effect].filter((e=>e!=t.value)):"number"!==typeof t.value?e[t.effect]=null:e[t.effect]-=t.value}removeDebuff(e,t){Array.isArray(e[t.effect])?e[t.effect].push(t.value):"number"!==typeof t.value?e[t.effect]=t.value:e[t.effect]+=t.value}}const de=new pe;var ge=a(5216),he=a(6897),fe=a(9359);class ue{spawnMonsters(){T.Z.state.combatMonsters=[];let e=Math.ceil(3*Math.random());for(let t=0;t<e;t++){let e=T.Z.state.monsters[T.Z.state.location],t=Math.floor(Math.random()*e.length);T.Z.state.combatMonsters.push(new ae.d(e[t]))}ge.x.randomItemDrop()}victory(){S._.resetExtraHp(),this.removeBuffs(),this.addKillCounts(),this.handleExpGain(),this.loot(),he.g.updateQuest()}handleExpGain(){let e=T.Z.state.combatMonsters.map((e=>e.exp)).reduce(((e,t)=>e+t)),t=T.Z.state.player.characters.filter((e=>e.hp>0&&e.inBattle)).length,a=500;T.Z.state.player.characters.forEach((s=>{s.hp>0&&s.inBattle&&(s.exp+=e/t,s.exp>=T.Z.state.levelUpChart[s.level]&&(this.levelUp(s),setTimeout((()=>{ne.Z.toast(s.name+" Leveled Up! Go to details to improve stats.","success","top",2500)}),a),a+=2500))}))}loot(){T.Z.state.combatMonsters.forEach((e=>{T.Z.state.player.gold+=e.loot.gold,e.loot.items.forEach((e=>{let t=T.Z.state.items.filter((t=>t.name==e));T.Z.state.player.items.push(new te.c(t[0]))})),e.equipment.length>0&&e.equipment.forEach((e=>{let t=T.Z.state.items.filter((t=>t.name==e));T.Z.state.player.items.push(new te.c(t[0]))}))}))}removeBuffs(){T.Z.state.player.characters.forEach((e=>{e.buffs.forEach((t=>de.removeBuff(e,t))),e.debuffs.forEach((t=>de.removeDebuff(e,t))),e.buffs=[],e.debuffs=[]}))}addKillCounts(){T.Z.state.combatMonsters.forEach((e=>{T.Z.state.player.kills[e.name]?T.Z.state.player.kills[e.name]++:T.Z.state.player.kills[e.name]=1}))}async levelUp(e){e.level++;let t=ie(e.classType,e.race,e.level);if(t.classBoost.forEach((t=>e[t]++)),t.raceBoost.forEach((t=>e[t]++)),e.magic>0){let t=fe.w.findRandomLearnableSpell(e);fe.w.learnSpell(t,e)}se[e.classType][e.level]&&me.learnAbility(se[e.classType][e.level],e),e.hp+=e.level*(e.level>1?e.level:3),e.baseHp+=e.level*(e.level>1?e.level:3),e.statBonus++}}const be=new ue;var ye={name:"BattleField",components:{EnemyMonster:D,CombatCharacter:Y,LootMonster:ee},watch:{charactersWithActions:function(){this.charactersWithActions<1&&this.characters.length>0&&S._.endPhase()},charactersWithHp:function(){this.characters.length<1?(it.push({name:"MapLocation"}),ne.Z.toast("You fled from battle","info","top-end")):this.charactersWithHp<1&&(it.push({name:"CharacterForm"}),ne.Z.toast("Your party is dead, revive or start over","error","top-end"))},monstersWithHp:function(){this.monstersWithHp<1&&this.charactersWithHp>0&&(be.victory(),ne.Z.toast("Victory!","success"))}},setup(){(0,r.bv)((()=>{be.spawnMonsters(),S._.enterBattle()}));const e=(0,b.qj)({monsters:(0,r.Fl)((()=>T.Z.state.combatMonsters)),characters:(0,r.Fl)((()=>T.Z.state.player.characters.filter((e=>e.inBattle)))),monstersWithHp:(0,r.Fl)((()=>e.monsters.filter((e=>e.hp>0)).length)),charactersWithActions:(0,r.Fl)((()=>e.characters.filter((e=>e.actions>0&&e.hp>0)).length)),charactersWithHp:(0,r.Fl)((()=>e.characters.filter((e=>e.hp>0)).length)),bgImg:(0,r.Fl)((()=>T.Z.state.locationImgList.find((e=>e.includes("lvl"+(T.Z.state.location+1)+"-bg")))))});return e},methods:{adventureOn(){it.push({name:"AreaLocation"})}},beforeRouteLeave(){if(this.charactersWithHp>0&&this.monstersWithHp>0)return ne.Z.toast("Can't flee from battle.","info"),!1;this.$store.commit("bringOutYourDead")}};const ve=(0,Z.Z)(ye,[["render",d],["__scopeId","data-v-23d534f6"]]);var we=ve;function ke(e,t,a,s,i,n){return(0,r.wg)(),(0,r.iD)("h1",null,"Hello adventurer you seem lost, stay awhile and rest or continue on your adventure")}var Ze={};const qe=(0,Z.Z)(Ze,[["render",ke]]);var _e=qe,Te=a(9242);const Ce=e=>((0,r.dD)("data-v-97cf4f56"),e=e(),(0,r.Cn)(),e),Se={class:"font-weight-bold text-black"},xe={class:"row justify-content-center"},Me={class:"col-10 col-md-8"},Re={class:"form-group"},De={class:"form-group"},He=Ce((()=>(0,r._)("option",{disabled:"",value:""},"Select a Class",-1))),Ee=["value"],Ie={class:"form-group"},Fe=(0,r.uE)('<option disabled value="" data-v-97cf4f56>Select a Race</option><option value="dragonborn" data-v-97cf4f56>Dragonborn</option><option value="dwarf" data-v-97cf4f56>dwarf</option><option value="elf" data-v-97cf4f56>Elf</option><option value="halfling" data-v-97cf4f56>Halfling</option><option value="human" data-v-97cf4f56>Human</option>',6),Ae=[Fe],Be={id:"imgSelect",class:"scrollable row"},ze=["value","onClick","src","alt"],je=Ce((()=>(0,r._)("button",{class:"btn btn-primary float-left",type:"submit"},"Create",-1))),Le={key:1,class:"row"};function Pe(e,t,a,s,n,c){const l=(0,r.up)("CombatCharacter");return(0,r.wg)(),(0,r.iD)("div",{class:"container bg-img",style:(0,i.j5)("background-image: url("+e.bgImg+")")},[(0,r._)("h5",Se,(0,i.zw)(e.characterCount<6?"Create Your Character":"Your Party"),1),(0,r._)("div",xe,[(0,r._)("div",Me,[e.characterCount<6?((0,r.wg)(),(0,r.iD)("form",{key:0,onSubmit:t[3]||(t[3]=(0,Te.iM)(((...e)=>c.createCharacter&&c.createCharacter(...e)),["prevent"]))},[(0,r._)("div",Re,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",id:"name",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t)},null,512),[[Te.nr,e.name]])]),(0,r._)("div",De,[(0,r.wy)((0,r._)("select",{class:"custom-select",id:"classType","onUpdate:modelValue":t[1]||(t[1]=t=>e.classType=t)},[He,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.classList,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e},(0,i.zw)(e),9,Ee)))),128))],512),[[Te.bM,e.classType]])]),(0,r._)("div",Ie,[(0,r.wy)((0,r._)("select",{class:"custom-select",id:"race","onUpdate:modelValue":t[2]||(t[2]=t=>e.race=t)},Ae,512),[[Te.bM,e.race]])]),(0,r._)("div",Be,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.imgs,(t=>((0,r.wg)(),(0,r.iD)("img",{class:(0,i.C_)(["img-fluid col-lg-3 col-md-6 col-12 click",e.selectedImg==t?"border border-warning ":""]),value:t,key:t,onClick:e=>c.selectImg(t),src:t,alt:t},null,10,ze)))),128))]),je],32)):((0,r.wg)(),(0,r.iD)("div",Le,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.characters,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"col-4 click",key:e.id,"data-toggle":"modal","data-target":"#characterDetailsModal",title:"stats"},[(0,r.Wm)(l,{character:e},null,8,["character"])])))),128))]))])])],4)}var Oe={components:{CombatCharacter:Y},name:"CharacterForm",setup(){const e=(0,b.qj)({classList:["Barbarian","Bard","Cleric","Fighter","Monk","Paladin","Ranger","Rogue","Warlock","Wizard"],name:"",classType:"",race:"",selectedImg:"",imgs:(0,r.Fl)((()=>T.Z.state.characterImgList)),characterCount:(0,r.Fl)((()=>T.Z.state.player.characters.length)),characters:(0,r.Fl)((()=>T.Z.state.player.characters)),selectedCharacter:"",bgImg:(0,r.Fl)((()=>T.Z.state.locationImgList.find((e=>e.includes("create-bg")))))});return e},methods:{createCharacter(){let e={name:this.name,classType:this.classType.toLowerCase(),race:this.race,img:this.selectedImg,actions:1,dodge:0,hp:5,luck:0,strength:1,magic:0,thorns:0,lifeSteal:0,physicalResistance:0,magicResistance:0};S._.createCharacter(e),ne.Z.toast(e.name+" was created!","success"),this.name="",this.classType="",this.race="",this.selectedImg=""},selectImg(e){this.selectedImg=e},selectCharacter(e){this.selectedCharacter=e}}};const Ue=(0,Z.Z)(Oe,[["render",Pe],["__scopeId","data-v-97cf4f56"]]);var We=Ue;const Ye=e=>((0,r.dD)("data-v-42a29288"),e=e(),(0,r.Cn)(),e),$e={class:"container pt-5"},Ne=Ye((()=>(0,r._)("div",{class:"row pt-5"},[(0,r._)("div",{class:"col-6 text-right"},[(0,r._)("label",{for:"buy"},"Learn Spells")])],-1))),Ge={class:"row mh-100"},Ke={class:"col-6"},Qe={key:0,for:"spells"},Je=["onClick","title"];function Ve(e,t,a,s,n,c){const l=(0,r.up)("ShopNavBar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),(0,r._)("div",$e,[Ne,(0,r._)("div",Ge,[(0,r._)("div",Ke,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.spellList,(e=>((0,r.wg)(),(0,r.iD)("ul",{key:e},[e.length>0?((0,r.wg)(),(0,r.iD)("label",Qe,(0,i.zw)(e[0].level>0?"Level "+e[0].level:"Cantrip")+" Spells",1)):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.name,onClick:t=>c.buySpell(e),title:e.title??c.getTitle(e)},(0,i.zw)(e.name)+" - "+(0,i.zw)(e.price??1e3*e.level+1e3)+"gold",9,Je)))),128))])))),128))])])])],64)}var Xe=a(7497),et={name:"MagicShop",components:{ShopNavBar:Xe.Z},setup(){const e=(0,b.qj)({spellList:(0,r.Fl)((()=>fe.w.getRandomSpellList()))});return e},methods:{async buySpell(e){let t=e.price??1e3*e.level+1e3;if(T.Z.state.player.gold<t)return void ne.Z.toast("Insufficient resources","warning");let a=await ne.Z.selectChar(e.name,t);if(0==a||!a)return;let s=T.Z.state.player.characters.filter((e=>e.id==a))[0];this.$store.commit("reducePlayerGold",t),fe.w.learnSpell(e.name,s)},getTitle(e){let t="";return e.strength?t=e.strength+" "+e.dmgType+" dmg":(t=e.buff?"+":"-",t+=e.value+" "+e.effect),t+=e.areaEffect?" (Mass effect)":"",t}}};const tt=(0,Z.Z)(et,[["render",Ve],["__scopeId","data-v-42a29288"]]);var at=tt;const st=[{path:"/battle",name:"battleField",component:we,beforeEnter:function(){0==T.Z.state.player.characters.length&&(ne.Z.toast("You cannot battle without a party.","warning"),rt.push({name:"CharacterForm"}))}},{path:"/",name:"CharacterForm",component:We},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,7381))},{path:"/map",name:"MapLocation",component:()=>a.e(443).then(a.bind(a,3140))},{path:"/location",name:"AreaLocation",component:()=>a.e(443).then(a.bind(a,8112))},{path:"/shop",name:"shop",component:()=>a.e(523).then(a.bind(a,5400)),beforeEnter:function(){0==T.Z.state.player.characters.length&&(ne.Z.toast("You cannot shop without a party.","warning"),rt.push({name:"CharacterForm"}))}},{path:"/shop/sell",name:"SellShop",component:()=>a.e(732).then(a.bind(a,2787)),beforeEnter:function(){0==T.Z.state.player.characters.length&&(ne.Z.toast("You cannot shop without a party.","warning"),rt.push({name:"CharacterForm"}))}},{path:"/shop/magic",name:"MagicShop",component:at,beforeEnter:function(){0==T.Z.state.player.characters.length&&(ne.Z.toast("You cannot shop without a party.","warning"),rt.push({name:"CharacterForm"}))}},{path:"/:any(.*)",component:_e}],rt=(0,s.p7)({history:(0,s.PO)("/vue-test/"),routes:st});var it=rt},3818:function(e,t,a){a.d(t,{m:function(){return c}});var s=a(6197),r=a(7387),i=a.n(r);class n{shake(e){let t=i()("#"+e);new Promise((e=>{function a(a){a.stopPropagation(),t.removeClass("animate__animated animate__headShake"),e("Animation ended")}t.addClass("animate__animated animate__headShake"),t.on("animationend",a)}))}pounce(e){let t=i()("#"+e);new Promise((e=>{function a(a){a.stopPropagation(),t.removeClass("animate__animated animate__tada"),e("Animation ended")}t.addClass("animate__animated animate__tada"),t.on("animationend",a)}))}fadeOutUp(e,t,a){let r=i()("#"+e),n=(0,s.O)();r.append('<h3 id="'+n+'" class="position-absolute">'+a+t+"</h3>"),r=i()("#"+n),new Promise((e=>{function t(t){t.stopPropagation(),r.remove(),e("Animation ended")}r.addClass("-"==a?"text-danger":"text-success"),r.addClass("animate__slower animate__animated animate__fadeOutUp "+a),r.on("animationend",t)}))}}const c=new n},6938:function(e,t,a){a.d(t,{S:function(){return l}});var s=a(1067),r=a(3818),i=a(2074),n=a(3565);class c{handleAttack(e,t){let a=e instanceof n.d?200:0;0==a&&e.actions--,(0,i._)(a).then((()=>{let a=e.strength;if(t.immunities.filter((e=>"crit"==e)).length<1&&(a=this.crit(e,a)),this.dodge(t))s.Z.toast(t.name+" dodged the attack","info");else{if(this.thorns(e,t),t.absorb==e.dmgType&&""!=t.absorb)return t.hp+=e.strength,void r.m.fadeOutUp("hit"+t.id,e.strength,"+");a=this.resistance({strength:a,dmgType:e.dmgType},t),a=this.vulnerable({strength:a,dmgType:e.dmgType},t),this.lifeSteal(e,a),t.immunities.filter((t=>t==e.dmgType)).length>0&&(console.log(t.name+" is immune to "+e.dmgType),a=0),r.m.fadeOutUp("hit"+t.id,a,"-"),(0,i._)(200).then((()=>{r.m.shake("charImg"+t.id)})),t.hp-=a}}))}thorns(e,t){t.thorns>0&&"melee"==e.dmgType&&(e.hp-=t.thorns,r.m.fadeOutUp("hit"+e.id,t.thorns,"-"))}dodge(e){let t=Math.floor(100*Math.random())+1,a=e.dodge+e.luck;return a>=t}resistance(e,t){let a=e.strength;return t.resistances.filter((t=>t==e.dmgType)).length>0&&(console.log(t.name+" is resistant to "+e.dmgType),a=Math.round(a/2)),t.physicalResistance>0&&"melee"==e.dmgType&&(s.Z.toast(t.name+" is resistant to "+e.dmgType,"info"),a-=Math.round(a*(t.physicalResistance/100))),t.magicResistance>0&&"magic"==e.dmgType&&(s.Z.toast(t.name+" is resistant to "+e.dmgType,"info"),a-=Math.round(a*(t.magicResistance/100))),a<0?0:a}vulnerable(e,t){let a=e.strength;return t.vulnerabilities.filter((t=>t==e.dmgType)).length>0&&(console.log(t.name+" is vulnerable to "+e.dmgType),a=Math.round(2*a)),a}lifeSteal(e,t){if(e.lifeSteal>0){let a=Math.round(t*(e.lifeSteal/100)*10)/10;a>0&&(r.m.fadeOutUp("hit"+e.id,a,"+"),e.hp=Math.round(10*(a+e.hp))/10)}}reflect(e,t){if(t.reflect>0){let a=Math.round(e.strength*t.reflect);a>0&&(e.hp-=a,r.m.fadeOutUp("hit"+e.id,a,"-"))}}crit(e,t){let a=Math.ceil(400*Math.random()),r=1+Math.round(e.luck);return r>=a&&(t*=2,s.Z.toast(e.name+" CRIT HIT","info")),t}}const l=new c},118:function(e,t,a){a.d(t,{_:function(){return d}});var s=a(6197),r=a(8914);class i{constructor(e){this.id=(0,s.O)(),this.name=""==e.name?"unknown":e.name,this.classType=e.classType??"unknown",this.race=e.race??"unknown",this.img=e.img,this.img||this.randomCharacterImg(),this.spells=e.spells??[],this.equipment=e.equipment??[],this.mainHand=e.mainHand??null,this.offHand=e.offHand??null,this.armor=e.armor??null,this.cloak=e.cloak??null,this.accessory=e.accessory??null,this.dmgType=e.dmgType??"melee",this.hp=e.hp??5,this.magic=e.magic??0,this.luck=e.luck??0,this.strength=e.strength??1,this.dodge=e.dodge??0,this.thorns=e.thorns??0,this.actions=e.actions??1,this.physicalResistance=e.physicalResistance??0,this.magicResistance=e.magicResistance??0,this.immunities=e.immunities??[],this.vulnerabilities=e.vulnerabilities??[],this.resistances=e.resistances??[],this.lifeSteal=e.lifeSteal??0,this.regen=e.regen??0,this.magicRegen=e.magicRegen??0,this.absorb=e.absorb??"",this.level=e.level??0,this.statBonus=e.statBonus??0,this.exp=e.exp??0,this.inBattle=e.inBattle??!0,this.baseHp=e.baseHp??this.hp,this.baseActions=e.baseActions??this.actions,this.baseMagic=e.baseMagic??this.magic,this.baseStrength=e.baseStrength??this.strength,this.buffs=[],this.debuffs=[],this.abilities=[]}randomCharacterImg(){let e="",t=Math.floor(Math.random()*r.Z.state.characterImgList.length);e=r.Z.state.characterImgList[t],this.img=e}}var n=a(3998),c=a(1067),l=a(3818),o=a(5279),m=a(9359);class p{getCharacterById(e){return r.Z.state.player.characters.find((t=>t.id==e))}takeTurn(){this.prepPhase(),this.attackPhase()}prepPhase(){this.removeDestroyedCharacters(),this.resetActions(),this.autoSelect()}attackPhase(){}endPhase(){this.regen(),this.magicRegen(),r.Z.state.selected="",o.j.takeTurn()}resetActions(){r.Z.state.player.characters.forEach((e=>{e.actions=e.baseActions}))}resetExtraHp(){r.Z.state.player.characters.forEach((e=>{e.hp>e.baseHp&&(e.hp=e.baseHp)}))}getAverageCharacterLvl(){let e=0;return r.Z.state.player.characters.forEach((t=>e+=t.level)),e?Math.floor(e/r.Z.state.player.characters.length):e}getPartyLuck(){let e=0;return r.Z.state.player.characters.forEach((t=>e+=t.luck)),e}removeDestroyedCharacters(){r.Z.state.player.characters.forEach((e=>{e.hp<-2*e.baseHp&&(r.Z.commit("destroyCharacter",e.id),c.Z.toast(e.name+" was destroyed","error"))}))}autoSelect(){r.Z.state.selected.hp>0&&r.Z.state.selected.actions>0||r.Z.state.player.characters.forEach((e=>{e.actions>0&&e.hp>0&&e.inBattle&&(r.Z.state.selected=e)}))}regen(){r.Z.state.player.characters.forEach((e=>{(e.regen>0??e.inBattle)&&(l.m.fadeOutUp("hit"+e.id,e.regen,"+"),e.hp+=e.regen)}))}magicRegen(){r.Z.state.player.characters.forEach((e=>{(e.magicRegen>0??e.inBattle)&&(e.magic+=e.magicRegen,e.magic=e.magic>e.baseMagic?e.baseMagic:e.magic)}))}attemptToFlee(e){let t=r.Z.state.combatMonsters.filter((e=>e.hp>0)).length,a=r.Z.state.player.characters.filter((e=>e.inBattle)).length,s=a==t?.5:a/t;s+=e.luck/100;let i=Math.random();s>i?(e.inBattle=!1,c.Z.toast(e.name+" got away","success")):c.Z.toast("Failed to escape")}enterBattle(){r.Z.state.player.characters.forEach((e=>e.inBattle=!0))}addItemStats(e,t){r.Z.commit("equipItem",{characterId:e.id,item:t})}removeItemStats(e,t){r.Z.commit("unequipItem",{characterId:e.id,item:t})}loadCharacter(e,t){r.Z.state.player.characters[e]=new i(t)}createCharacter(e){let t=!1;switch(e.classType){case"rogue":e["actions"]++,e["dodge"]+=5;break;case"ranger":e["actions"]++,e["hp"]+=5;break;case"bard":e["luck"]+=3,e["dodge"]+=2,e["magicRegen"]=1,e["magic"]++,t="vicious mockery";break;case"barbarian":e["strength"]+=3;break;case"wizard":e["magic"]+=3,e["magicRegen"]=1,t=m.w.findRandomLearnableSpell(e);break;case"cleric":e["magic"]++,e["hp"]+=5,e["magicRegen"]=1,t="light heal";break;case"fighter":e["strength"]++,e["actions"]++;break;case"monk":e["actions"]+=2;break;case"paladin":e["strength"]++,e["thorns"]++,e["magicRegen"]=1,e["magic"]++,t="sacred flame";break;case"warlock":e["magic"]++,e["lifeSteal"]+=10,e["magicRegen"]=1,t="chill touch";break;default:e["classType"]="unknown",e[(0,n.w)()]+=3,e[(0,n.w)()]+=3,e["magicRegen"]=e.magic>0?1:0,t=e.magic>0&&m.w.findRandomLearnableSpell(e);break}switch(e.race){case"dragonborn":e["strength"]+=3;break;case"human":e["strength"]++,e["hp"]+=5;break;case"elf":e["magic"]++,e["actions"]++;break;case"dwarf":e["hp"]+=10;break;case"halfling":e["luck"]+=3;break;default:e["race"]="unknown",e[(0,n.w)()]+=3,e[(0,n.w)()]+=3,t=e.magic>0&&m.w.findRandomLearnableSpell(e);break}let a=new i(e);t&&m.w.learnSpell(t,a),r.Z.state.player.characters.push(a)}deleteCharacter(e){r.Z.state.player.characters=r.Z.state.player.characters.filter((t=>t.id!==e))}}const d=new p},5216:function(e,t,a){a.d(t,{x:function(){return o}});var s=a(1988),r=a(8914),i=a(1067),n=a(118),c=a(5279);class l{randomItemDrop(){let e=Math.ceil(100*Math.random()),t=1+r.Z.state.location+n._.getPartyLuck();if(t>e){let e=this.findRandomItem();console.log(e);let t=Math.floor(Math.random()*r.Z.state.combatMonsters.length);r.Z.state.combatMonsters[t].equipment.push(e.name),c.j.addItemStats(r.Z.state.combatMonsters[t],e.name)}}findRandomItem(){let e=1+r.Z.state.location+n._.getPartyLuck(),t=Math.ceil(1e4*Math.random())+e;const a={c:7974,uc:9474,r:9974,vr:9999,l:1e4};for(let r in a)a[r]>=t&&(t=r);let s=r.Z.state.items.filter((e=>e.rarity==t)),i=Math.floor(Math.random()*s.length);return s[i]}equipItem(e,t){if(r.Z.message="",!this.checkItemReqs(e,t))return void i.Z.toast(r.Z.message,"warning");r.Z.message="",e.equipment.forEach((a=>{a.type==t.type&&this.unequipItem(e,a)}));let a=r.Z.state.player.items.indexOf(t);r.Z.state.player.items.splice(a,1),e.equipment.push(t),n._.addItemStats(e,t),this.unequipReqMissingItems(e)}unequipItem(e,t){let a=e.equipment.indexOf(t);e.equipment.splice(a,1),r.Z.state.player.items.push(t),n._.removeItemStats(e,t),this.unequipReqMissingItems(e)}sellItem(e){let t=r.Z.state.player.items.indexOf(e);r.Z.state.player.items.splice(t,1),r.Z.state.player.gold+=e.price/10}buyItem(e){r.Z.state.player.items.push(new s.c(e))}checkItemReqs(e,t){let a=!0;return t?.requirements?(t.requirements.forEach((t=>{a=Array.isArray(t.req)?this.checkMultiReqs(e,t):this.checkSingleReq(e,t)})),a):a}checkMultiReqs(e,t){let a=!1;return t.req.forEach((s=>{Array.isArray(e[s.stat])?a=this.checkSingleReq(e,t):(e[t.stat].includes(s)||e[t.stat]>=s)&&(a=!0)})),a}checkSingleReq(e,t){let a=!1;return Array.isArray(e[t.stat])?e[t.stat].forEach((e=>{"object"===typeof e?e.name.includes(t.req)&&(a=!0):(e.includes(t.req)||e>=t.req)&&(a=!0)})):e[t.stat]>=t.req?a=!0:r.Z.message+=" requires "+t.stat.replace(/([A-Z])/g," $1")+" to be "+t.req,a}unequipReqMissingItems(e){e.equipment.forEach((t=>{this.checkItemReqs(e,t)||this.unequipItem(e,t)}))}}const o=new l},5279:function(e,t,a){a.d(t,{j:function(){return p}});var s=a(8914),r=a(3818),i=a(6938),n=a(118),c=a(2074),l=a(7387),o=a.n(l);class m{takeTurn(){this.prepPhase(),this.attackPhase()}prepPhase(){this.resetActions()}attackPhase(){let e=s.Z.state.player.characters.filter((e=>e.inBattle)).length,t=1e3;o()("#app").css("pointer-events","none"),o()("*").css("cursor","progress"),s.Z.state.combatMonsters.forEach((a=>{if(!(a.actions<=0&&a.hp<=0))for(a.actions;a.actions>0;a.actions--)(0,c._)(t).then((()=>{if(a.hp>0){r.m.pounce("monster"+a.id);let t=s.Z.state.player.characters.filter((e=>e.inBattle))[Math.floor(Math.random()*e)];i.S.handleAttack(a,t)}})),t+=1e3})),setTimeout((()=>{o()("#app").css("pointer-events",""),o()("*").css("cursor",""),this.endPhase()}),t)}endPhase(){this.regen(),n._.takeTurn()}regen(){s.Z.state.combatMonsters.forEach((e=>{e.regen>0&&(r.m.fadeOutUp("hit"+e.id,e.regen,"+"),e.hp+=e.regen)}))}resetActions(){s.Z.state.combatMonsters.forEach((e=>{e.hp>0&&(e.actions=e.baseActions)}))}addItemStats(e,t){s.Z.commit("addStatsToMonster",{monsterId:e.id,item:t})}getMonsterById(e){return s.Z.state.combatMonsters.find((t=>t.id==e))}}const p=new m},6897:function(e,t,a){a.d(t,{g:function(){return l}});var s=a(1988),r=a(8914),i=a(1067),n=a(118);class c{acceptQuest(e){let t=Object.assign({},e),a=n._.getAverageCharacterLvl();if("kill"==t.objective){let e=r.Z.state[t.target][a],s=Math.floor(Math.random()*e.length);t.target=e[s].name,t.goal+=(r.Z.state.player.kills[t.target]??0)*(a>0?a:1),t.reward=t.reward*(a>0?a:1)}if("find"==t.objective){let a=r.Z.state[t.target+"s"].filter((e=>e.rarity==t.goal)),s=Math.floor(Math.random()*a.length);t.target=a[s].name,a=r.Z.state[e.target+"s"].filter((e=>e.rarity==t.reward)),s=Math.floor(Math.random()*a.length),t.reward=a[s].name}if("explore"==t.objective){let e=Math.ceil(10*Math.random()),a=Math.ceil(12*Math.random());t.target=r.Z.state.player.explored.filter((e=>e.length>0)).length,t.goal=t.target+"-"+e+"-"+a,t.reward=(t.target+1)*e*a}r.Z.state.player.quest=t}updateQuest(){let e=r.Z.state.player.quest;if("kill"==e.objective&&(r.Z.state.combatMonsters.forEach((t=>{t.name==e.objective&&e.goal<e.progress&&e.progress++})),e.progress>=e.goal&&this.completeQuest()),"find"==e.objective&&r.Z.state.player.items.forEach((t=>{t.name==e.target&&this.completeQuest()})),"explore"==e.objective){let t=r.Z.state.player.explored[r.Z.state.location][r.Z.state.player.explored[r.Z.state.location].length-1];e.goal==t&&this.completeQuest()}}completeQuest(){let e=r.Z.state.player.quest;if("find"==e.objective){r.Z.state.player.items=r.Z.state.player.items.filter((t=>t.name!=e.name));let t=r.Z.state.items.filter((t=>t.name==e.reward));r.Z.state.player.items.push(new s.c(t[0]))}"kill"==e.objective&&(r.Z.state.player.gold+=e.goal),"explore"==e.objective&&r.Z.state.player.characters.forEach((t=>t.exp+=e.reward)),i.Z.toast("Quest Complete","success"),r.Z.state.player.quest={}}}const l=new c},9359:function(e,t,a){a.d(t,{w:function(){return o}});var s=a(6938),r=a(8914),i=a(1444),n=a(118),c=a(1067);class l{castSpell(e,t){let a=Object.assign({},e);a.areaEffect?"enemies"==t?r.Z.state.combatMonsters.forEach((e=>{a["areaEffect"]=!1,this.castSpell(a,e)})):r.Z.state.player.characters.forEach((e=>{a["areaEffect"]=!1,this.castSpell(a,e)})):(!a.strength||a.buff&&a.debuff||(a["actions"]=1,a["hp"]=1,a["lifeSteal"]=0,a["luck"]=0,s.S.handleAttack(a,t),n._.autoSelect()),a.effect&&(Array.isArray(t[a.effect])?t[a.effect].push(a.value):"number"!==typeof a.value?t[a.effect]=a.value:a.buff?t[a.effect]+=a.value:t[a.effect]-=a.value),a.temp&&(a.debuff&&t["debuffs"].push({effect:a.effect,value:a.value}),a.buff&&t["buffs"].push({effect:a.effect,value:a.value})))}findRandomLearnableSpell(e){let t=Math.floor(Math.random()*(e.level??0)/2);if("wizard"==e.classType||"unknown"==e.classType)return r.Z.state.spells[t][Math.floor(Math.random()*r.Z.state.spells[t].length)].name;let a=!1;do{let s=r.Z.state.spells[t][Math.floor(Math.random()*r.Z.state.spells[t].length)],i=!0;if(s.reqs)for(let t in s.reqs)e[t]!=s.reqs[t]&&(i=!1);i&&(a=s.name)}while(!a);return a}learnSpell(e,t){if(!this.canLearnSpell(e,t))return!1;if(t.spells.find((t=>t.name==e)))return void this.levelUpSpell(e,t);let a=r.Z.state.spells.find((t=>t.find((t=>t.name==e)))).find((t=>t.name==e));t.spells.push(new i.j(a)),c.Z.toast(t.name+" Learned "+e,"success")}canLearnSpell(e,t){if(t.baseMagic<1)return!1;let a=t.spells.find((t=>t.name==e));if(a)return a.level<t.level;a=r.Z.state.spells.find((t=>t.find((t=>t.name==e)))).find((t=>t.name==e));for(let s in a.reqs)if(t[s]!=a.reqs[s]&&"unknown"!=t[s]&&"wizard"!=t[s])return!1;return a.level<=t.level}levelUpSpell(e,t){let a=t.spells.find((t=>t.name==e)),s=r.Z.state.spells.find((t=>t.find((t=>t.name==e))));s=s.find((t=>t.name==e)),a.level++,a.strength&&(a.strength+=s.strength),a.value&&(a.value+=s.value),c.Z.toast(t.name+" Level up "+e,"success")}getRandomSpellList(){let e=[[],[],[],[],[],[],[],[],[],[]];return r.Z.state.spells.forEach((t=>t.forEach((t=>{Math.floor(10*Math.random())>8&&e[t.level].push(t)})))),e}}const o=new l},8914:function(e,t,a){function s(){let e=["lightning","melee","magic","acid","necrotic","poison","fire","cold","psychic","radiant"],t=Math.floor(Math.random()*e.length);return e[t]}a.d(t,{Z:function(){return n}});var r=a(9749);const i=(0,r.MT)({state:{monsters:[[{name:"goblin",actions:1,strength:2,hp:7,loot:{gold:5,items:["dagger"]},exp:50,dodge:10,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fgoblin.png?alt=media&token=92f9a971-2733-42a9-b616-563ffcbe86dc"},{name:"bullywug",actions:2,strength:1,hp:11,loot:{gold:5,items:["spear"]},exp:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fbullywug.png?alt=media&token=b29b3455-f4ca-4c97-918c-fd20fb8946d0"},{name:"giant bat",actions:1,strength:3,hp:15,loot:{gold:5,items:[]},exp:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fgiant-bat.png?alt=media&token=09a1bbb5-aea2-42ff-afbd-34c420a23b52"},{name:"giant rat",actions:1,strength:1,hp:7,loot:{gold:2,items:[]},exp:25,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fgiant-rat.png?alt=media&token=c09b17a6-58da-4efc-b5e0-77f8ff3d5323"},{name:"kuo toa",actions:1,strength:2,hp:18,loot:{gold:5,items:["spear","sticky shield"]},exp:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fkuo-toa.png?alt=media&token=d4184eda-e4f2-4c13-8015-74abea6980ae"},{name:"seedling",actions:1,strength:2,hp:8,thorns:1,loot:{gold:5,items:[]},exp:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fseedling.png?alt=media&token=4e357d83-5c08-45d2-940e-7ae302b26366"},{name:"skeleton",actions:1,strength:4,hp:9,loot:{gold:5,items:["shortsword","shortbow"]},exp:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fundead-barbarian.png?alt=media&token=8f7d9113-6d7f-4c60-b74e-a30cf4cb9ed5"}],[{name:"fire snake",actions:2,strength:3,hp:22,loot:{gold:20,items:["fire snake hide"]},absorb:"fire",dmgType:"fire",thorns:5,exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Ffiresnake.png?alt=media&token=7a25d2f1-6c6d-4508-a200-57f324e360ba"},{name:"ghoul",actions:1,strength:8,hp:22,loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fghoul.png?alt=media&token=c5ac81a3-433a-4890-8272-5a4daa4d1b4d"},{name:"bugbear",actions:1,strength:9,hp:27,loot:{gold:20,items:["javelin","morningstar"]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fbugbear.png?alt=media&token=811edeb1-3376-4259-a175-089015c51cb9"},{name:"giant spider",actions:1,strength:16,hp:26,loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fgiant-spider.png?alt=media&token=944f50cb-b41b-4865-9a28-9078cd65540c"},{name:"imp",actions:1,strength:15,magicResistance:25,physicalResistance:25,hp:10,absorb:"fire",dmgType:"fire",loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fimp.png?alt=media&token=f2938d88-c399-4e6a-a6a4-1a99555bef25"},{name:"multi-armed skeleton",actions:4,strength:3,hp:26,loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fmulti-armed-skeleton.png?alt=media&token=33e98e78-25d8-4582-aff0-55b2588178ef"},{name:"myconid",actions:2,strength:8,hp:22,dmgType:"poison",loot:{gold:10,items:[]},exp:100,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fmyconid.png?alt=media&token=dd0ae0f4-3860-4588-a876-738efb16c0be"},{name:"ooze",actions:1,strength:11,hp:22,thorns:3,magicResistance:25,dmgType:"acid",loot:{gold:10,items:[]},exp:100,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fooze.png?alt=media&token=6d011360-3e02-42f8-b960-1ad823fbd0ab"},{name:"orc",actions:1,strength:7,hp:15,loot:{gold:10,items:["greataxe","javelin"]},exp:100,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Forc.png?alt=media&token=f011fcb1-d057-490c-b599-350229676f87"},{name:"shadow",actions:1,strength:9,lifeSteal:50,physicalResistance:50,absorb:"necrotic",vulnerabilities:["radiant"],dmgType:"necrotic",hp:16,loot:{gold:10,items:[]},exp:100,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fshadow.png?alt=media&token=9442e3ed-56f0-4782-b2ce-62d14975eeda"},{name:"scarecrow",actions:2,strength:6,physicalResistance:20,hp:36,loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fscarecrow.png?alt=media&token=b005ab31-b378-4cef-b1af-10fdf8ba91c2"},{name:"pseudodragon",actions:2,strength:5,magicResistance:25,physicalResistance:25,hp:30,dmgType:"cold",loot:{gold:20,items:[]},exp:200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpseudodragon.png?alt=media&token=0e439993-9b35-42f0-99ff-9483d8bfbd25"}],[{name:"gelatinous cube",classType:"",race:"ooze",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fgelatinous-cube.png?alt=media&token=c6d9255b-de4f-4fe8-9e5d-66464bd29119",spells:[],equipment:[],dmgType:"acid",hp:84,magic:0,luck:0,strength:10,dodge:0,thorns:10,actions:1,physicalResistance:0,magicResistance:0,lifeSteal:25,absorb:"acid",level:2,loot:{gold:45,items:[]},exp:450},{name:"gibbering mouther",classType:"",race:"aberration",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fmouther.png?alt=media&token=7927b7ad-4059-410c-b21f-fc57a5485955",spells:[],equipment:[],dmgType:"acid",hp:67,magic:0,luck:0,strength:17,dodge:25,thorns:0,actions:1,physicalResistance:0,magicResistance:0,lifeSteal:0,absorb:"",level:2,loot:{gold:45,items:[]},exp:450},{name:"nothic",classType:"",race:"aberration",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fnothic.png?alt=media&token=a4f68856-cc22-45df-90ba-11e3142ab915",spells:[],equipment:[],dmgType:"magic",hp:45,magic:0,luck:0,strength:8,dodge:0,thorns:0,actions:2,physicalResistance:0,magicResistance:0,lifeSteal:0,absorb:"",level:2,loot:{gold:45,items:[]},exp:450},{name:"ogre",classType:"",race:"giant",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fogre.png?alt=media&token=dc59cd31-1642-455c-910c-989836b155eb",spells:[],equipment:[],dmgType:"",hp:59,magic:0,luck:0,strength:12,dodge:0,thorns:0,actions:1,physicalResistance:0,magicResistance:0,lifeSteal:0,absorb:"",level:2,loot:{gold:45,items:["greatclub","javelin"]},exp:450}],[{name:"displacer beast",dodge:50,actions:2,strength:7,hp:85,loot:{gold:70,items:["displacer cloak"]},exp:700,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fdisplacer-beast.png?alt=media&token=c177fa03-5378-4692-be8b-e52c794599c9"},{name:"yuan-ti malison",actions:2,strength:10,absorb:"poison",hp:66,dmgType:"poison",loot:{gold:70,items:["scimitar"]},exp:700,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fsnakeman.png?alt=media&token=5de8dc0d-7345-4ee3-9085-bf3e58b0b073"},{name:"spectator",actions:2,strength:16,hp:39,absorb:"magic",loot:{gold:70,items:[]},exp:700,dmgType:"magic",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fspectator.png?alt=media&token=c79ddd43-f172-41f7-a1de-bc600ae4b654"},{name:"werewolf",actions:2,strength:7,hp:58,absorb:"melee",loot:{gold:70,items:["handaxe","shortsword"]},exp:700,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fwolfman.png?alt=media&token=fde92071-b1ab-4372-bb41-cfdd574aa1ec"}],[{name:"ettin",actions:2,strength:14,hp:85,loot:{gold:110,items:["battleaxe","morningstar"]},exp:1100,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fettin.png?alt=media&token=d08052f2-8965-460f-b745-2a3d04890b0a"},{name:"flameskull",actions:2,strength:10,hp:40,loot:{gold:110,items:[]},exp:1100,absorb:"magic",dmgType:"magic",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fflameskull.png?alt=media&token=c580f87e-37a5-426f-868d-2283d230adf5"},{name:"young phoenix",actions:1,strength:26,hp:45,loot:{gold:110,items:[]},exp:1100,absorb:"fire",dmgType:"fire",physicalResistance:50,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpheonix.png?alt=media&token=a8d21857-1c00-4c11-ad1b-6bb5456a5220"}],[{name:"barbed devil",actions:3,strength:10,hp:110,loot:{gold:180,items:[]},exp:1800,thorns:5,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fbarbed-devil.png?alt=media&token=b3c691e9-93f9-45ca-867d-30965616026a"},{name:"flesh golem",actions:2,strength:13,hp:93,loot:{gold:180,items:[]},exp:1800,absorb:"lightning",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fflesh-golem.png?alt=media&token=4c36dfad-d0b6-434f-9fd9-97976ef0d97d"},{name:"troll",actions:3,strength:9,lifeSteal:40,regen:10,hp:84,loot:{gold:180,items:[]},exp:1800,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Ftroll.png?alt=media&token=17bcb389-591b-4404-bfba-516529ee9e11"}],[{name:"sorcerer beast",actions:1,strength:45,hp:58,loot:{gold:230,items:[]},exp:2300,dmgType:"magic",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fsorcerer-beastman.png?alt=media&token=b8e28940-d354-45c6-a433-d90979e7ae22"}],[{name:"shield guardian",actions:2,strength:11,lifeSteal:50,hp:142,physicalResistance:75,loot:{gold:290,items:[]},exp:2900,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(71).png?alt=media&token=7ea84b7f-3825-4c13-8527-d1e8d1d58fb7"}],[{name:"hydra",actions:5,strength:10,lifeSteal:20,hp:172,loot:{gold:390,items:[]},exp:3900,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(72).png?alt=media&token=ff66a119-8295-4532-afa7-73de03d564ac"},{name:"water elemental",actions:1,dmgType:"cold",strength:50,hp:208,vulnerabilities:["lightning"],loot:{gold:390,items:[]},exp:3900,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fwater-elemental.png?alt=media&token=0732233c-46dd-4710-b0ff-885adf1debb9"}],[{name:"treant",actions:2,strength:22,hp:138,physicalResistance:25,vulnerabilities:["fire"],loot:{gold:500,items:[]},exp:5e3,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(73).png?alt=media&token=863bed33-f995-4ad1-900f-5fef35f806c9"}],[{name:"aboleth",actions:2,strength:12,hp:235,loot:{gold:590,magicResistance:75,items:[]},exp:5900,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Faboleth-beholder.png?alt=media&token=c20a9625-a10c-4207-8413-d0b9c8dad72c"},{name:"young red dragon",actions:3,strength:20,hp:278,absorb:"fire",magicResistance:25,physicalResistance:25,dmgType:"fire",loot:{gold:590,items:["red dragon scalemail"]},exp:5900,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fred-dragon.png?alt=media&token=d92dc5a2-e36e-4271-bb47-0096710c57a9"}],[{name:"remorhaz",actions:1,strength:50,absorb:"fire",thorns:"10",immunities:["cold"],dmgType:"fire",hp:395,loot:{gold:720,items:[]},exp:7200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(74).png?alt=media&token=faabbe05-aa5f-4e78-a351-29656e23f096"},{name:"ice golem",actions:3,strength:25,absorb:"cold",vulnerabilities:["fire"],thorns:"10",dmgType:"cold",hp:481,loot:{gold:720,items:[]},exp:7200,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fice-golem.png?alt=media&token=515795bf-c616-468e-85b9-aa73030b1651"}],[{name:"archmage",actions:1,strength:60,hp:499,physicalResistance:25,magicResistance:50,dmgType:"magic",loot:{gold:840,items:["dagger"]},exp:8400,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(75).png?alt=media&token=2f1e550d-50f4-4c82-9864-110bf7b7c8f2"}],[{name:"beholder",actions:3,strength:30,hp:1800,loot:{gold:1e3,items:[]},dmgType:"magic",exp:1e4,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fbeholder.png?alt=media&token=15bc1d92-68e6-4f1b-8fad-28504605bfdc"},{name:"mind flayer",actions:1,strength:80,hp:2270,loot:{gold:1e3,items:[]},magicResistance:50,absorb:"psychic",lifeSteal:75,dmgType:"psychic",exp:1e4,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fmind-flayer.png?alt=media&token=ed563277-d397-4f94-8627-58220e02424e"}],[{name:"purple dragon",actions:3,absorb:"psychic",magicResistance:25,physicalResistance:25,dmgType:"psychic",strength:14,hp:1570,loot:{gold:1150,items:["purple dragon scalemail"]},exp:11500,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpurple-dragon.png?alt=media&token=86a34b7a-7c1f-4718-aa29-644a62914ded"}],[{name:"baphomet",actions:4,strength:21,hp:2750,loot:{gold:1300,items:[]},exp:13e3,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fbaphomet.png?alt=media&token=187c94ae-a505-441a-8773-847c8755e127"}],[{name:"adult blue dragon",actions:3,strength:16,hp:2250,loot:{gold:1500,items:[]},exp:15e3,dmgType:"lightning",absorb:"lightning",magicResistance:50,physicalResistance:25,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fblue-dragon.png?alt=media&token=edbedc28-1cce-43dc-9d9e-0ed92fbb24ed"}],[{name:"adult gold dragon",actions:3,strength:28,magicResistance:50,physicalResistance:25,hp:2560,dmgType:"fire",absorb:"fire",loot:{gold:1800,items:[]},exp:18e3,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(78).png?alt=media&token=3c267af7-a727-48d9-9a84-ded90c8669a6"}],[{name:"abyssal ooze",actions:3,strength:39,hp:5740,loot:{gold:2e3,items:[]},exp:2e4,thorns:39,absorb:"melee",dmgType:"acid",img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fabyssal-ooze.png?alt=media&token=76919f5f-6822-439d-bd5c-2437fb3b5e8b"}],[{name:"balor",actions:2,strength:29,absorb:"fire",dmgType:"fire",thorns:10,magicResistance:30,hp:26200,loot:{gold:2200,items:[]},exp:22e3,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(77).png?alt=media&token=31b1e9f0-1f1a-4473-8a05-db64d0ddff1b"}],[{name:"death",actions:10,strength:100,hp:1e6,loot:{gold:2500,items:[]},vulnerabilities:["radiant"],absorb:"necrotic",exp:25e3,img:"https://firebasestorage.googleapis.com/v0/b/game-pics.appspot.com/o/monsters%2Fpngwing.com%20(79).png?alt=media&token=aa71a739-6b17-42d9-83fc-5d470623a567"}]],itemReqs:[],reqs:[],items:[{name:"shortsword",effect:"strength",value:2,type:"mainHand",price:400,rarity:"c"},{name:"dagger",effect:"strength",value:1,type:"offHand",price:200,rarity:"c"},{name:"spear",effect:"strength",value:1,type:"mainHand",price:200,rarity:"c"},{name:"shortbow",effect:["strength","dmgType"],value:[1,"range"],type:"mainHand",price:200,rarity:"c"},{name:"sticky shield",effect:"baseHp",value:3,type:"offHand",price:600,rarity:"c"},{name:"battleaxe",effect:"strength",value:3,type:"mainHand",price:600,rarity:"c",requirements:[{stat:"baseStrength",req:2}]},{name:"greataxe",effect:"strength",type:"mainHand",value:6,requirements:[{stat:"baseStrength",req:4}],price:1200,rarity:"uc"},{name:"scimitar",effect:"strength",value:2,type:"mainHand",price:400,rarity:"c"},{name:"adamantine armor",effect:"immunities",value:"crit",type:"armor",price:4e3,rarity:"uc"},{name:"handaxe",effect:"strength",value:1,type:"mainHand",price:200,rarity:"c"},{name:"greatclub",effect:"strength",value:2,type:"mainHand",price:400,rarity:"c"},{name:"morningstar",effect:"strength",value:2,type:"mainHand",price:400,rarity:"c"},{name:"javelin",effect:"strength",value:1,type:"mainHand",price:200,rarity:"c"},{name:"fire snake hide",effect:"magicResistance",value:20,type:"armor",price:1400,rarity:"uc"},{name:"displacer cloak",effect:"dodge",value:25,type:"cloak",price:5e3,rarity:"r"},{name:"purple dragon scalemail",effect:["baseHp","resistances"],value:[50,"psychic"],type:"armor",price:1e4,rarity:"vr"},{name:"red dragon scalemail",effect:["baseHp","resistances"],value:[50,"fire"],type:"armor",price:1e4,rarity:"vr"},{name:"amulent of health",effect:"baseHp",value:19,type:"accessory",price:5e3,rarity:"r"},{name:"aminated shield",effect:"physicalResistance",value:20,type:"",price:1e4,rarity:"vr"},{name:"armor of invulnerability",effect:"physicalResistance",value:100,type:"armor",price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"armor +1",effect:"physicalResistance",value:25,type:"armor",price:5e3,rarity:"r"},{name:"longsword +1",effect:"strength",value:10,type:"mainHand",price:5e3,rarity:"r",requirements:[{stat:"baseStrength",req:5}]},{name:"armor +2",effect:"physicalResistance",value:50,type:"armor",price:1e4,rarity:"vr"},{name:"belt of hill giant strength",effect:"strength",value:5,type:"accessory",price:5e3,rarity:"r",requirements:[{stat:"baseHp",req:15}]},{name:"belt of storm giant strength",effect:"strength",value:9,type:"accessory",price:15e3,rarity:"vr",requirements:[{stat:"baseHp",req:35}]},{name:"belt of dwarvenkind",effect:["baseHp","resistances"],value:[2,"poison"],type:"accessory",price:5e3,rarity:"vr"},{name:"boots of elvenkind",effect:"dodge",value:10,type:"accessory",price:1500,rarity:"uc"},{name:"boots of speed",effect:"baseActions",value:1,type:"accessory",price:7500,rarity:"r"},{name:"boots of the winterlands",effect:"resistances",value:"cold",type:"accessory",price:2e3,rarity:"uc"},{name:"bracers of archery",effect:"strength",value:2,type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"equipment",req:"bow"}]},{name:"bracers of defense",effect:"strength",value:2,type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"armor",req:null}]},{name:"cloak of protection",effect:"physicalResistance",value:20,type:"cloak",price:2500,rarity:"uc"},{name:"dagger of venom",effect:["strength","dmgType"],value:[10,"poison"],type:"offHand",price:1e4,rarity:"r",requirements:[{stat:"classType",req:"rogue"}]},{name:"dancing sword",effect:["baseActions","strength"],value:[1,5],type:"",price:1e4,rarity:"vr"},{name:"defender",effect:["strength","physicalResistance"],value:[10,50],type:"mainHand",price:1e5,rarity:"l",requirements:[{stat:"classType",req:"paladin"}]},{name:"dwarven plate",effect:["baseHp","physicalResistance"],value:[50,50],type:"armor",price:25e3,rarity:"vr",requirements:[{stat:"race",req:"dwarf"}]},{name:"dwarven hammer",effect:"strength",value:15,type:"mainHand",price:15e3,rarity:"vr",requirements:[{stat:"race",req:"dwarf"}]},{name:"flame tongue",effect:["strength","dmgType"],value:[10,"fire"],type:"mainHand",price:1e4,rarity:"r"},{name:"frost brand",effect:["strength","dmgType","resistances"],value:[10,"cold","fire"],type:"mainHand",price:25e3,rarity:"vr"},{name:"gauntlets of ogre power",effect:"strength",value:3,type:"accessory",price:2e3,rarity:"uc",requirements:[{stat:"baseHp",req:15}]},{name:"javelin of lightning",effect:["strength","dmgType"],value:[3,"lightning"],type:"mainHand",price:4e3,rarity:"uc"},{name:"luck blade",effect:["strength","luck"],value:[5,10],type:"mainHand",price:1e5,rarity:"l"},{name:"mace of disruption",effect:["strength","dmgType"],value:[6,"radiant"],type:"mainHand",price:1e4,rarity:"r"},{name:"mantle of spell resistance",effect:"magicResistance",value:50,type:"cloak",price:1e4,rarity:"r"},{name:"periapt of proof against poison",effect:"immunities",value:"poison",type:"accessory",price:1e4,rarity:"r"},{name:"ring of evasion",effect:"dodge",value:20,type:"accessory",price:4e3,rarity:"r"},{name:"ring of protection",effect:["physicalResistance","magicResistance"],value:[20,20],type:"accessory",price:8e3,rarity:"r"},{name:"ring of regeneration",effect:"regen",value:5,type:"accessory",price:2e4,rarity:"vr"},{name:"ring of spell turning",effect:["thorns","magicResistance"],value:[100,100],type:"accessory",price:1e5,rarity:"l"},{name:"ring of warmth",effect:"resistances",value:"cold",type:"accessory",price:1500,rarity:"uc"},{name:"robe of the archmagi",effect:["magicResistance","magic","physicalResistance"],value:[50,10,25],type:"cloak",price:1e5,rarity:"l",requirements:[{stat:"baseMagic",req:15}]},{name:"rod of absorption",effect:"absorb",value:"randomDmgType",type:"mainHand",price:25e3,rarity:"vr"},{name:"scimitar of speed",effect:["actions","strength"],value:[1,15],type:"mainHand",price:25e3,rarity:"vr"},{name:"shield",effect:"physicalResistance",value:10,type:"offHand",price:500,rarity:"c"},{name:"shield +1",effect:"physicalResistance",value:20,type:"offHand",price:5e3,rarity:"uc"},{name:"shield +2",effect:"physicalResistance",value:40,type:"offHand",price:1e4,rarity:"r"},{name:"shield +3",effect:"physicalResistance",value:75,type:"offHand",price:5e4,rarity:"vr"},{name:"spellguard shield",effect:["physicalResistance","magicResistance"],value:[10,50],type:"offHand",price:5e4,rarity:"vr"},{name:"staff of fire",effect:["magic","dmgType","resistances"],value:[10,"fire","fire"],type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of frost",effect:["magic","dmgType","resistances"],value:[10,"cold","cold"],type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of force",effect:["magic","dmgType","resistances"],value:[10,"melee","melee"],type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of lightning",effect:["magic","dmgType","resistances"],value:[10,"lightning","lightning"],type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"staff of withering",effect:["magic","dmgType","resistances"],value:[10,"necrotic","necrotic"],type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["cleric","warlock"]}]},{name:"staff of the magi",effect:["magic","absorb"],value:[10,"magic"],type:"mainHand",price:1e5,rarity:"l",requirements:[{stat:"classType",req:["wizard","warlock"]}]},{name:"luckstone",effect:"luck",value:2,type:"accessory",price:2e3,rarity:"uc"},{name:"sun blade",effect:["strength","dmgType"],value:[5,"radiant"],type:"mainHand",price:1e4,rarity:"r"},{name:"sword of life stealing",effect:["strength","dmgType","lifeSteal"],value:[5,"necrotic",25],type:"mainHand",price:1e4,rarity:"r"},{name:"sword of sharpness",effect:"strength",value:15,type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"baseStrength",req:10}]},{name:"sword of extra sharpness",effect:"strength",value:25,type:"mainHand",price:1e5,rarity:"l",requirements:[{stat:"baseStrength",req:15}]},{name:"wand of the war mage",effect:"magic",value:15,type:"mainHand",price:25e3,rarity:"vr",requirements:[{stat:"classType",req:["warlock","cleric","wizard"]}]}],abilities:[{name:"rage",level:1,effect:["physicalResistance","strength"],value:[50,2],buff:!0,classType:"barbarian",uses:1,baseUses:1},{name:"second wind",level:1,effect:["hp"],value:[5],buff:!1,classType:"fighter",uses:1,baseUses:1},{name:"action surge",level:2,effect:["actions"],value:[1],buff:!0,classType:"fighter",uses:1,baseUses:1},{name:"quickening heal",level:4,effect:["hp"],value:[10],buff:!1,classType:"monk",uses:1,baseUses:1},{name:"song of rest",level:2,effect:["hp"],value:[6],buff:!1,areaEffect:!0,classType:"bard",uses:1,baseUses:1},{name:"sneak attack",level:1,effect:["strength"],value:[6],buff:!0,classType:"rogue",uses:1,baseUses:1},{name:"cunning action",level:2,effect:["dodge"],value:[25],buff:!0,classType:"rogue",uses:1,baseUses:1}],spells:[[{name:"acid splash",strength:3,dmgType:"acid",level:0},{name:"poison spray",strength:6,dmgType:"poison",level:0},{name:"chill touch",strength:4,dmgType:"necrotic",level:0},{name:"edritch blast",strength:5,dmgType:"melee",level:0},{name:"fire bolt",strength:5,dmgType:"fire",level:0},{name:"ray of frost",strength:4,dmgType:"cold",level:0},{name:"sacred flame",strength:4,dmgType:"radiant",level:0},{name:"shocking grasp",strength:4,dmgType:"lightning",level:0},{name:"vicious mockery",strength:4,dmgType:"psychic",level:0},{name:"light heal",effect:"hp",value:1,buff:!0,level:0}],[{name:"burning hands",strength:9,dmgType:"fire",level:1},{name:"hellish rebuke",strength:10,dmgType:"fire",reqs:{classType:"warlock"},level:1},{name:"inflict wounds",strength:15,dmgType:"necrotic",reqs:{classType:"warlock"},level:1},{name:"guided bolt",strength:12,dmgType:"radiant",level:1},{name:"magic missile",areaEffect:!0,strength:4,dmgType:"melee",level:1},{name:"cure wounds",effect:"hp",value:5,buff:!0,level:1,reqs:{classType:"cleric"}},{name:"weaken",effect:"strength",value:-3,buff:!0,temp:!0,level:1},{name:"power up",effect:"strength",value:3,buff:!0,temp:!0,level:1}],[{name:"cure wounds",effect:"hp",value:10,buff:!0,level:2,reqs:{classType:"cleric"}},{name:"acid arrow",strength:16,dmgType:"acid",level:2},{name:"scorching ray",areaEffect:!0,strength:6,dmgType:"fire",level:2},{name:"shatter",areaEffect:!0,strength:8,dmgType:"melee",level:2},{name:"branding smite",strength:12,dmgType:"radiant",level:2},{name:"moonbeam",areaEffect:!0,strength:6,dmgType:"radiant",level:2},{name:"prayer of healing",areaEffect:!0,effect:"hp",value:4,buff:!0,level:2,reqs:{classType:"cleric"}}],[{name:"cloud of daggers",areaEffect:!0,strength:12,dmgType:"melee",level:3},{name:"call lightning",strength:22,dmgType:"lightning",level:3},{name:"fireball",strength:24,dmgType:"fire",level:3},{name:"lightning bolt",strength:24,dmgType:"lightning",level:3},{name:"haste",effect:"actions",value:1,buff:!0,level:3},{name:"slow",effect:"actions",value:1,level:3},{name:"mass healing word",effect:"hp",value:8,buff:!0,level:3,reqs:{classType:"cleric"}}],[{name:"blight",strength:32,dmgType:"necrotic",level:4},{name:"ice storm",strength:16,areaEffect:!0,dmgType:"cold",level:4},{name:"phantasmal killer",strength:40,dmgType:"psychic",level:4}],[{name:"cloud kill",areaEffect:!0,strength:20,dmgType:"poison",level:5},{name:"cone of cold",strength:48,dmgType:"cold",level:5},{name:"flame strike",strength:48,dmgType:"fire",level:5},{name:"insect plague",areaEffect:!0,strength:20,dmgType:"melee",level:5},{name:"greater restoration",effect:"hp",value:55,buff:!0,level:5,reqs:{classType:"cleric"}},{name:"mass cure wounds",areaEffect:!0,effect:"hp",value:17,buff:!0,level:5,reqs:{classType:"cleric"}}],[{name:"chain lightning",areaEffect:!0,strength:25,dmgType:"lightning",level:6},{name:"circle of death",areaEffect:!0,strength:24,dmgType:"necrotic",level:6},{name:"disintegrate",strength:70,dmgType:"melee",level:6},{name:"sunbeam",strength:65,dmgType:"radiant",level:6},{name:"freezing sphere",areaEffect:!0,strength:60,dmgType:"cold",level:6},{name:"harm",strength:60,dmgType:"necrotic",level:6},{name:"heal",effect:"hp",value:70,buff:!0,level:6,reqs:{classType:"cleric"}}],[{name:"finger of death",strength:86,dmgType:"necrotic",level:7},{name:"fire storm",areaEffect:!0,strength:35,dmgType:"necrotic",level:7},{name:"teleport",areaEffect:!0,effect:"inBattle",value:!1,title:"Party flee battle",level:7},{name:"prasmatic spray",areaEffect:!0,strength:35,dmgType:s(),level:7}],[{name:"earthquake",areaEffect:!0,strength:50,dmgType:"melee",level:8},{name:"incendiary cloud",areaEffect:!0,strength:50,dmgType:"fire",level:8},{name:"sunburst",areaEffect:!0,strength:56,dmgType:"radiant",level:8}],[{name:"mass heal",areaEffect:!0,effect:"hp",value:116,buff:!0,level:9,reqs:{classType:"cleric"}},{name:"mass haste",areaEffect:!0,effect:"actions",value:1,buff:!0,level:9},{name:"meteor storm",areaEffect:!0,strength:120,dmgType:"fire",level:9},{name:"power word kill",strength:100,dmgType:"fire",level:9},{name:"weird",areaEffect:!0,strength:75,dmgType:"psychic",level:9}]],quests:[{objective:"kill",target:"monsters",goal:10,reward:150,progress:0},{objective:"kill",target:"monsters",goal:25,reward:500,progress:0},{objective:"kill",target:"monsters",goal:5,reward:50,progress:0},{objective:"find",target:"item",goal:"c",reward:"uc",progress:0},{objective:"find",target:"item",goal:"uc",reward:"r",progress:0},{objective:"find",target:"item",goal:"r",reward:"vr",progress:0},{objective:"explore",target:0,goal:"0-10-12",reward:"exp",progress:0}],combatMonsters:[],player:{characters:[],gold:window.location.origin.includes("localhost")?5e5:0,items:[],kills:{},quest:{},explored:[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]},location:0,selected:"",characterImgList:[],locationImgList:[],levelUpChart:[300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3],message:""},getters:{},mutations:{selectCharacter(e,t){e.selected=t},bringOutYourDead(e){e.combatMonsters=[]},destroyCharacter(e,t){e.player.characters=e.player.characters.filter((e=>e.id!=t))},reducePlayerGold(e,t){e.player.gold-=t},equipItem(e,t){let a=e.player.characters.find((e=>e.id==t.characterId));if(Array.isArray(t.item.effect))for(let s=0;s<t.item.effect.length;s++)Array.isArray(a[t.item.effect[s]])?a[t.item.effect[s]].push(t.item.value[s]):"string"===typeof a[t.item.effect[s]]?a[t.item.effect[s]]=t.item.value[s]:a[t.item.effect[s]]+=t.item.value[s];else Array.isArray(a[t.item.effect])?a[t.item.effect].push(t.item.value):"string"===typeof a[t.item.effect]?a[t.item.effect]=t.item.value:a[t.item.effect]+=t.item.value;a[t.item.type]=t.item.id},unequipItem(e,t){let a=e.player.characters.find((e=>e.id==t.characterId));if(Array.isArray(t.item.effect))for(let s=0;s<t.item.effect.length;s++)if(Array.isArray(a[t.item.effect[s]])){let e=a[t.item.effect[s]].indexOf(t.item.value[s]);a[t.item.effect[s]].splice(e,1)}else"string"===typeof a[t.item.effect[s]]?a[t.item.effect[s]]="dmgType"==t.item.effect[s]?"melee":null:a[t.item.effect[s]]-=t.item.value[s];else if(Array.isArray(a[t.item.effect])){let e=a[t.item.effect].indexOf(t.item.value);a[t.item.effect].splice(e,1)}else"string"===typeof a[t.item.effect]?a[t.item.effect]="dmgType"==t.item.effect?"melee":null:a[t.item.effect]-=t.item.value;a[t.item.type]=null},addStatsToMonster(e,t){let a=e.items.filter((e=>e.name==t.item));a=a[0];let s=e.combatMonsters.filter((e=>e.id==t.monsterId));if(s=s[0],Array.isArray(a.effect))for(let r=0;r<a.effect.length;r++)Array.isArray(s[a.effect[r]])?s[a.effect[r]].push(a.value[r]):s[a.effect[r]]+=a.value[r];else Array.isArray(s[a.effect])?s[a.effect].push(a.value):s[a.effect]+=a.value}},actions:{},modules:{}});var n=i},1067:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(4471),r=a(8914),i=a(9359);class n{static async confirm(e="New Quest",t="Mysterious",a="question",r="Yes, Accept!"){try{const i=await s.Z.fire({title:e,text:t,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r});return!!i.isConfirmed}catch(i){return!1}}static async selectChar(e="Learn spell",t=1e3){try{const a=await s.Z.fire({title:"Learn spell "+e,input:"select",inputOptions:c(e),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Learn Spells("+t+")"});return!!a.isConfirmed&&a.value}catch(a){return!1}}static async selectTarget(e="Select Target",t="Cast Spell"){try{const a=await s.Z.fire({title:e,input:"select",inputOptions:l(),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t});return!!a.isConfirmed&&a.value}catch(a){return!1}}static async selectStat(e={hp:"hp",strength:"strength"}){try{const t=await s.Z.fire({title:"Level Up!",text:"Select a stat to improve.",input:"select",inputOptions:e,confirmButtonColor:"#3085d6",confirmButtonText:"Improve stat!"});return!!t.isConfirmed&&t.value}catch(t){return!1}}static toast(e="Warning!",t="warning",a="center-end",r=5e3,i=!0){s.Z.fire({title:e,icon:t,position:a,timer:r,timerProgressBar:i,toast:!0,showConfirmButton:!1})}}function c(e){let t={},a=r.Z.state.player.characters.filter((t=>i.w.canLearnSpell(e,t)));return a.length<1?{0:"No one can learn this spell"}:(a.forEach((e=>{t[e.id]=e.name})),t)}function l(){let e={},t=r.Z.state.combatMonsters,a=r.Z.state.player.characters;return t.forEach((t=>{e[t.id]=t.name})),a.forEach((t=>{e[t.id]=t.name})),e}},6197:function(e,t,a){function s(){let e=((new Date).getTime()/1e3|0).toString(16);return e+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(()=>(16*Math.random()|0).toString(16))).toLowerCase()}a.d(t,{O:function(){return s}})},3998:function(e,t,a){function s(){let e=["hp","strength","dodge","thorns","actions","lifeSteal","luck","magic","physicalResistance","magicResistance"],t=Math.floor(Math.random()*e.length);return e[t]}a.d(t,{w:function(){return s}})},4485:function(e,t,a){function s(e){let t="common";switch(e){case"uc":t="uncommon";break;case"r":t="rare";break;case"vr":t="very-rare";break;case"l":t="legendary";break}return t}a.d(t,{$:function(){return s}})},2074:function(e,t,a){function s(e){return new Promise((t=>setTimeout(t,e)))}a.d(t,{_:function(){return s}})},3406:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(3396),r=a(7139);const i=["id","title"];function n(e,t,a,n,c,l){return(0,s.wg)(),(0,s.iD)("li",{id:"item"+a.item.id,class:(0,r.C_)(["click d-flex",l.getRarityFullName(a.item.rarity)]),title:"full"==a.display?l.getItemReqsDisplay(a.item):l.getItemEffectsDisplay(a.item)},(0,r.zw)(a.item.name)+" - "+(0,r.zw)("full"==a.display?l.getItemEffectsDisplay(a.item):a.item.price+" gold")+"  ("+(0,r.zw)(a.item.type)+")  ",11,i)}var c=a(4870),l=a(4485),o={name:"EquipmentItem",props:{item:{type:Object,required:!0},display:{type:String,default:"full"}},setup(){const e=(0,c.qj)({});return e},methods:{getRarityFullName:l.$,getItemEffectsDisplay(e){let t="";if(Array.isArray(e.effect))for(let a=0;a<e.effect.length;a++)t+=e.effect[a].replace(/([A-Z])/g," $1")+" +"+e.value[a]+" ";else t=e.effect.replace(/([A-Z])/g," $1")+" +"+e.value;return t},getItemReqsDisplay(e){let t="Pre-reqs: ";if(e?.requirements?.length>0)for(let a=0;a<e.requirements.length;a++)t+=e.requirements[a].stat+" +"+e.requirements[a].req;else t+="none";return t}}},m=a(89);const p=(0,m.Z)(o,[["render",n]]);var d=p},7497:function(e,t,a){a.d(t,{Z:function(){return w}});var s=a(3396),r=a(7139);const i={class:"navbar navbar-dark bg-darker"},n={class:"w-25 d-flex justify-content-between"},c=(0,s.Uk)("Sell"),l=(0,s.Uk)("Items Shop"),o=(0,s.Uk)("Magic Shop"),m={class:"mr-3"},p=["disabled"],d=["onClick","disabled"];function g(e,t,a,g,h,f){const u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",i,[(0,s._)("div",n,[(0,s.Wm)(u,{class:"btn btn-sm btn-outline-secondary",to:"/shop/sell"},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(u,{class:"btn btn-sm btn-outline-secondary",to:"/shop"},{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(u,{class:"btn btn-sm btn-outline-secondary",to:"/shop/magic"},{default:(0,s.w5)((()=>[o])),_:1})]),(0,s._)("div",m,[(0,s._)("button",{class:"btn btn-warning mr-2",onClick:t[0]||(t[0]=(...e)=>f.adventureOn&&f.adventureOn(...e))},"Adventure On!"),(0,s._)("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=e=>f.rest()),disabled:g.state.playersGold<50*g.state.location+50},"Rest ("+(0,r.zw)(50*g.state.location+50)+" gold)",9,p),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.state.revive,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s._)("button",{class:"btn btn-secondary m-3",onClick:t=>f.reviveCharacter(e.id),disabled:g.state.playersGold<e.cost},"Revive "+(0,r.zw)(e.name)+" ("+(0,r.zw)(-10*(e.hp-e.baseHp))+" gold)",9,d)])))),128))])])}var h=a(4870),f=a(8914),u=a(3123),b={name:"ShopNavBar",setup(){const e=(0,h.qj)({healPartyCost:(0,s.Fl)((()=>Math.round(f.Z.state.player.characters.map((e=>e.hp>0?e.baseHp-e.hp:0)).reduce(((e,t)=>e+t))))),restorePartyMagicCost:(0,s.Fl)((()=>Math.round(3*f.Z.state.player.characters.map((e=>e.baseMagic>0?e.baseMagic-e.magic:0)).reduce(((e,t)=>e+t))))),revive:(0,s.Fl)((()=>f.Z.state.player.characters.filter((e=>e.hp<1)))),playersGold:(0,s.Fl)((()=>f.Z.state.player.gold)),location:(0,s.Fl)((()=>f.Z.state.location))});return{state:e}},methods:{reviveCharacter(e){let t=this.state.revive.find((t=>t.id=e)),a=-10*(t.hp-t.baseHp);this.$store.commit("reducePlayerGold",a),this.$store.state.player.characters.forEach((t=>t.id==e?t.hp=t.baseHp:""))},healParty(){this.$store.commit("reducePlayerGold",this.state.healPartyCost),this.$store.state.player.characters.forEach((e=>e.hp<e.baseHp&&e.hp>0?e.hp=e.baseHp:""))},RestorePartyMagic(){this.$store.commit("reducePlayerGold",this.state.restorePartyMagicCost),this.$store.state.player.characters.forEach((e=>e.magic<e.baseMagic?e.magic=e.baseMagic:""))},rest(){f.Z.state.player.characters.forEach((e=>{e.hp=e.baseHp,e.magic=e.baseMagic,e.abilities.forEach((e=>e.uses=e.baseUses))}))},adventureOn(){u.Z.push({name:"AreaLocation"})}}},y=a(89);const v=(0,y.Z)(b,[["render",g],["__scopeId","data-v-d1f4c8b8"]]);var w=v}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,i){if(!s){var n=1/0;for(m=0;m<e.length;m++){s=e[m][0],r=e[m][1],i=e[m][2];for(var c=!0,l=0;l<s.length;l++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(c=!1,i<n&&(n=i));if(c){e.splice(m--,1);var o=r();void 0!==o&&(t=o)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[s,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+{443:"about",523:"shop",732:"SellShop"}[e]+"."+{443:"9a5b9e0a",523:"2add43b3",732:"2d930896"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+{443:"about",523:"shop",732:"SellShop"}[e]+"."+{443:"c54884e9",523:"d314c746",732:"d314c746"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-test:";a.l=function(s,r,i,n){if(e[s])e[s].push(r);else{var c,l;if(void 0!==i)for(var o=document.getElementsByTagName("script"),m=0;m<o.length;m++){var p=o[m];if(p.getAttribute("src")==s||p.getAttribute("data-webpack")==t+i){c=p;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",t+i),c.src=s),e[s]=[r];var d=function(t,a){c.onerror=c.onload=null,clearTimeout(g);var r=e[s];if(delete e[s],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((function(e){return e(a)})),t)return t(a)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),l&&document.head.appendChild(c)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/vue-test/"}(),function(){var e=function(e,t,a,s){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(i){if(r.onerror=r.onload=null,"load"===i.type)a();else{var n=i&&("load"===i.type?"missing":i.type),c=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=c,r.parentNode.removeChild(r),s(l)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){r=n[s],i=r.getAttribute("data-href");if(i===e||i===t)return r}},s=function(s){return new Promise((function(r,i){var n=a.miniCssF(s),c=a.p+n;if(t(n,c))return r();e(s,c,r,i)}))},r={143:0};a.f.miniCss=function(e,t){var a={443:1,523:1,732:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=s(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,s){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var i=new Promise((function(a,s){r=e[t]=[a,s]}));s.push(r[2]=i);var n=a.p+a.u(t),c=new Error,l=function(s){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",c.name="ChunkLoadError",c.type=i,c.request=n,r[1](c)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,n=s[0],c=s[1],l=s[2],o=0;if(n.some((function(t){return 0!==e[t]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(l)var m=l(a)}for(t&&t(s);o<n.length;o++)i=n[o],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(m)},s=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(671)}));s=a.O(s)})();
//# sourceMappingURL=app.36da185d.js.map