{"version":3,"file":"js/shop.63d0e209.js","mappings":"6LAEKA,MAAM,uB,GACTC,EAAAA,EAAAA,GAIM,OAJDD,MAAM,OAAK,EACdC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,SAAO,EAChBC,EAAAA,EAAAA,GAAkC,SAA3BC,IAAI,OAAM,iBAFrB,G,GAKKF,MAAM,c,GACJA,MAAM,S,gHARfG,EAAAA,EAAAA,IAAcC,IACdH,EAAAA,EAAAA,GAaM,MAbN,EAaM,CAZJI,GAKAJ,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAEK,0BADHK,EAAAA,EAAAA,IAAyIC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA5EC,EAAAA,YAARC,K,WAArDC,EAAAA,EAAAA,IAAyIC,EAAA,CAAlIZ,OAAK,QAAEa,EAAAA,kBAAkBH,EAAKI,SAAqCC,IAAKL,EAAKM,GAAKN,KAAMA,EAAMO,QAAQ,OAAQC,QAAK,GAAEL,EAAAA,IAAIH,IAAhI,qDATR,I,6FA2BA,GACAS,KAAM,cACNC,WAAY,CACVC,WADU,IACEC,KAAAA,EAAAA,GAEdC,SACEC,EAAAA,EAAAA,KAAUC,UAER,IAAIC,EAAO,EAAEC,EAAAA,EAAAA,eACTC,EAASC,KAAKC,KAAmB,GAAdD,KAAKE,UAC5B,GAAGL,EAAOE,EAAO,CACf,IAAII,EAAQH,KAAKI,MAAMJ,KAAKE,SAASG,EAAAA,EAAAA,MAAAA,OAAAA,QACjCC,EAAWD,EAAAA,EAAAA,MAAAA,OAAoBF,SAC1BI,EAAAA,EAAAA,QAAeD,EAASE,UAAWF,EAASG,SACnDC,EAAAA,EAAAA,YAAyBJ,OAI/B,MAAMK,GAAQC,EAAAA,EAAAA,IAAS,CACrBC,aAAaC,EAAAA,EAAAA,KAAS,IAAKT,EAAAA,EAAAA,MAAAA,OAAAA,OAC3BU,YAAYD,EAAAA,EAAAA,KAAS,IAAKT,EAAAA,EAAAA,MAAAA,MAAAA,MAAwB,CAACW,EAAEC,IAAKD,EAAEE,MAAQD,EAAEC,UACtEC,MAAO,OAET,OAAOR,GAETS,QAAS,CACPC,IAAIxC,GACCyC,KAAKjB,OAAOM,MAAMY,OAAOC,MAAQ3C,EAAKqC,QACvCI,KAAKjB,OAAOoB,OAAO,mBAAoB5C,EAAKqC,OAC5CQ,EAAAA,EAAAA,QAAqB7C,KAGzB8C,kBAAoBA,EAAAA,I,QCtDtB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue-test/./src/views/GeneralShop.vue","webpack://vue-test/./src/views/GeneralShop.vue?d79a"],"sourcesContent":["<template>\r\n<ShopNavBar />\r\n<div class=\"container mt-5 pt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <label for=\"buy\">Buy Items</label>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mh-100\">\r\n    <div class=\"col-6\">\r\n      <ul>\r\n        <Item :class=\"getRarityFullName(item.rarity)\" v-for=\"item in storeItems\" :key=\"item.id\" :item=\"item\" display=\"shop\" @click=\"buy(item)\" />\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from \"@vue/reactivity\"\r\nimport { computed, onMounted } from \"@vue/runtime-core\"\r\nimport $store from \"@/store/index.js\"\r\nimport { itemsService } from \"@/services/ItemsService\"\r\nimport { getRarityFullName } from '@/utils/getRarityFullName'\r\nimport { questService } from \"@/services/QuestService\"\r\nimport { characterService } from \"@/services/CharacterService\"\r\nimport ShopNavBar from \"@/components/ShopNavBar.vue\"\r\nimport Notify from \"@/utils/Notify\"\r\nimport Item from \"@/components/Item.vue\"\r\nexport default {\r\nname: 'GeneralShop',\r\ncomponents: {\r\n  ShopNavBar, Item\r\n},\r\nsetup(){\r\n  onMounted(async()=> {\r\n    // random chance to get a quest request\r\n    let luck = 1+characterService.getPartyLuck()\r\n    let chance = Math.ceil(Math.random()*25)\r\n    if(luck > chance){\r\n      let index = Math.floor(Math.random()*$store.state.quests.length)\r\n      let newQuest = $store.state.quests[index]\r\n      if(await Notify.confirm(newQuest.objective, newQuest.target)){\r\n        questService.acceptQuest(newQuest)\r\n      }\r\n    }\r\n  })\r\n  const state = reactive({\r\n    playersGold: computed(()=> $store.state.player.gold),\r\n    storeItems: computed(()=> $store.state.items.sort((a,b)=> a.price - b.price)),\r\n    quest: null\r\n  })\r\n  return state\r\n},\r\nmethods: {\r\n  buy(item){\r\n    if(this.$store.state.player.gold >= item.price){\r\n      this.$store.commit('reducePlayerGold', item.price)\r\n      itemsService.buyItem(item)\r\n    }\r\n  },\r\n  getRarityFullName : getRarityFullName\r\n}\r\n}\r\n</script>\r\n\r\n<style>\r\nli{\r\n  cursor: pointer;\r\n}\r\n.mh-100{\r\n  height: 75vh;\r\n  overflow-y: auto;\r\n}\r\n</style>","import { render } from \"./GeneralShop.vue?vue&type=template&id=5c5a7f7a\"\nimport script from \"./GeneralShop.vue?vue&type=script&lang=js\"\nexport * from \"./GeneralShop.vue?vue&type=script&lang=js\"\n\nimport \"./GeneralShop.vue?vue&type=style&index=0&id=5c5a7f7a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\dhild\\\\source\\\\mini-projects\\\\vue-test-game\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_ShopNavBar","_hoisted_2","_createElementBlock","_Fragment","_renderList","_ctx","item","_createBlock","_component_Item","$options","rarity","key","id","display","onClick","name","components","ShopNavBar","Item","setup","onMounted","async","luck","characterService","chance","Math","ceil","random","index","floor","$store","newQuest","Notify","objective","target","questService","state","reactive","playersGold","computed","storeItems","a","b","price","quest","methods","buy","this","player","gold","commit","itemsService","getRarityFullName","__exports__","render"],"sourceRoot":""}